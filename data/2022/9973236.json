{
    "abstract": "Trip planning services have been developed along with tourism promotion and information technology evolutions, where we must construct trip routes that simultaneously optimize multi-objective functions such as trip expenses and user satisfaction. Moreover, utilization of past-trip records is essential, because similarities to past-trip records well reflect users\u2019 general preferences and tendencies...",
    "articleNumber": "9973236",
    "articleTitle": "Multi-Objective Trip Planning Based on Ant Colony Optimization Utilizing Trip Records",
    "authors": [
        {
            "preferredName": "Etsushi Saeki",
            "normalizedName": "E. Saeki",
            "firstName": "Etsushi",
            "lastName": "Saeki",
            "searchablePreferredName": "Etsushi Saeki"
        },
        {
            "preferredName": "Siya Bao",
            "normalizedName": "S. Bao",
            "firstName": "Siya",
            "lastName": "Bao",
            "searchablePreferredName": "Siya Bao"
        },
        {
            "preferredName": "Toshinori Takayama",
            "normalizedName": "T. Takayama",
            "firstName": "Toshinori",
            "lastName": "Takayama",
            "searchablePreferredName": "Toshinori Takayama"
        },
        {
            "preferredName": "Nozomu Togawa",
            "normalizedName": "N. Togawa",
            "firstName": "Nozomu",
            "lastName": "Togawa",
            "searchablePreferredName": "Nozomu Togawa"
        }
    ],
    "doi": "10.1109/ACCESS.2022.3227431",
    "publicationTitle": "IEEE Access",
    "publicationYear": "2022",
    "publicationVolume": null,
    "publicationIssue": null,
    "volume": "10",
    "issue": null,
    "documentLink": "/document/9973236/",
    "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<response><accessType>CCBY - IEEE is not the copyright holder of this material. Please follow the instructions via https://creativecommons.org/licenses/by/4.0/ to obtain full-text articles and stipulations in the API documentation.</accessType><div id=\"BodyWrapper\" class=\"ArticlePage\" xmlns:ieee=\"http://www.ieeexplore.ieee.org\"><div id=\"article\">\n<div class=\"section\" id=\"sec1\"><div class=\"header article-hdr\"><div class=\"kicker\">\n\t\t                        SECTION I.</div><h2>Introduction</h2></div><div class=\"section_2\" id=\"sec1a\"><h3>A. Trip Planning Problem</h3><p>With the promotion of tourism and the evolution of information technologies, trip planning services have been rapidly developed in the past decades <a ref-type=\"bibr\" anchor=\"ref1\" id=\"context_ref_1_1a\">[1]</a>, <a ref-type=\"bibr\" anchor=\"ref2\" id=\"context_ref_2_1a\">[2]</a>.</p><p>Trip planning studies nowadays aim at constructing routes that optimize almost any user\u2019s requirements such as point-of-interest (POI) satisfaction and POI cost, where POI refers to a point location that a user wants to visit or he/she considers useful. For example, Bao et al. <a ref-type=\"bibr\" anchor=\"ref3\" id=\"context_ref_3_1a\">[3]</a> considered POIs\u2019 features including satisfaction, expense, and duration time. On the other hand, besides users\u2019 preferences and trip time, Isoda et al. <a ref-type=\"bibr\" anchor=\"ref4\" id=\"context_ref_4_1a\">[4]</a> additionally evaluated a POI through its static features such as geographical positions and business hours. These studies suggest that a POI has multiple features and it is essential to consider all these features as many as possible. In this paper, we focus on maximizing the total POI satisfaction and minimizing the total POI cost, and we call this the <i>first condition</i> of the trip planning problem.</p><p>Meanwhile, due to the wide variety of user\u2019s behavioral principles, it is impossible to perfectly satisfy users\u2019 requirements by only considering the first condition. For example, it is difficult to quantify a user\u2019s behavior like a user prefers to visit a relaxing indoor POI after high-intensity outdoor activities. Also, even for quantifiable objective functions such as POI genres and duration time, if the amount of the objective functions becomes large, it is still hard to satisfy all the objective functions simultaneously. One effective way to solve this issue is utilizing <i>past-trip records</i> <a ref-type=\"bibr\" anchor=\"ref5\" id=\"context_ref_5_1a\">[5]</a>.</p><p>Most studies only calculate POI values based on the number of times that the POI has been visited in the past-trip records <a ref-type=\"bibr\" anchor=\"ref4\" id=\"context_ref_4_1a\">[4]</a>, <a ref-type=\"bibr\" anchor=\"ref6\" id=\"context_ref_6_1a\">[6]</a>, <a ref-type=\"bibr\" anchor=\"ref7\" id=\"context_ref_7_1a\">[7]</a>, <a ref-type=\"bibr\" anchor=\"ref8\" id=\"context_ref_8_1a\">[8]</a>. Thus, they ignore the relationships and visiting orders between POIs. We have to take into account the past-trip records including POIs themselves and their visiting orders. Some studies verified the positive effect of utilizing past-trip records. Kasahara et al. <a ref-type=\"bibr\" anchor=\"ref5\" id=\"context_ref_5_1a\">[5]</a> modeled the users\u2019 behaviors from their past-trip records to predict the next visiting POI. Compared with the method without considering past-trip records, the accuracy of the method <a ref-type=\"bibr\" anchor=\"ref5\" id=\"context_ref_5_1a\">[5]</a> increased by 10.4% and the routes constructed by the method <a ref-type=\"bibr\" anchor=\"ref5\" id=\"context_ref_5_1a\">[5]</a> showed higher similarities to past-trip records. Lu et al. <a ref-type=\"bibr\" anchor=\"ref9\" id=\"context_ref_9_1a\">[9]</a> solved the trip planning problem by adding scores to a potential route using past-trip records as references. Similarly, the routes constructed by <a ref-type=\"bibr\" anchor=\"ref9\" id=\"context_ref_9_1a\">[9]</a> obtained higher user satisfaction and higher diversity (more POI characteristics are included). Thus, these studies\u2019 results suggest that the utilization of past-trip records is helpful to better reflect users\u2019 behavior principles in trip planning. The past-trip records well represent the users\u2019 behavior. By taking this idea into account, not only the POI satisfaction and the POI cost according to the first condition but also the satisfaction of the entire route (e.g., visiting an indoor POI after an outdoor POI) will be taken into account. We call the utilization of the past-trip records the <i>second condition</i> of the trip planning problem.</p></div><div class=\"section_2\" id=\"sec1b\"><h3>B. Related Works</h3><p>Generally, the trip planning problem is based on the orienteering problem (OP) <a ref-type=\"bibr\" anchor=\"ref10\" id=\"context_ref_10_1b\">[10]</a>. Given a POI candidate set and a time limitation, the OP aims at exploring the optimal route between the starting location and the ending location. Souffriau et al. <a ref-type=\"bibr\" anchor=\"ref11\" id=\"context_ref_11_1b\">[11]</a> presented the trip design problem from the OP and developed a method that constructs an optimal route by applying modified guided local search <a ref-type=\"bibr\" anchor=\"ref12\" id=\"context_ref_12_1b\">[12]</a>. However, the method is unsatisfied with the first condition, since it only takes one objective function. At the same time, it is insufficient to meet the second condition since there is no use of the past-trip records. As is the case of Souffriau\u2019s method, most studies of OPs <a ref-type=\"bibr\" anchor=\"ref13\" id=\"context_ref_13_1b\">[13]</a>, <a ref-type=\"bibr\" anchor=\"ref14\" id=\"context_ref_14_1b\">[14]</a>, <a ref-type=\"bibr\" anchor=\"ref15\" id=\"context_ref_15_1b\">[15]</a>, <a ref-type=\"bibr\" anchor=\"ref16\" id=\"context_ref_16_1b\">[16]</a> only considered a single objective function which usually is the total satisfaction of POIs, and it violates the first condition as a single objective function cannot fully reflect users\u2019 requirements.</p><p>On the other hand, the multi-objective orienteering problem (MOOP) <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_1b\">[17]</a> assumes that each POI has several features and all these features should be considered in route construction. The MOOP is sufficient to fulfill the first condition as it takes into account multi-objective functions. For the route construction part in <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_1b\">[17]</a>, Pareto ant colony optimization (P-ACO) and Pareto variable neighborhood search (P-VNS) were proposed based on ant colony optimization <a ref-type=\"bibr\" anchor=\"ref18\" id=\"context_ref_18_1b\">[18]</a> and variable neighborhood search <a ref-type=\"bibr\" anchor=\"ref19\" id=\"context_ref_19_1b\">[19]</a>, respectively, to realize the multi-objective optimization. Martin et al. <a ref-type=\"bibr\" anchor=\"ref20\" id=\"context_ref_20_1b\">[20]</a> presented the multi-objective artificial bee colony algorithm (MOABC) which is an optimization method inspired by the foraging behavior of honey bees to solve the MOOP. Although Schilde\u2019s and Martin\u2019s methods are sufficient to fulfill the first condition, there are no use of the past-trip records so that they cannot satisfy the second condition.</p><p>Bao et al. <a ref-type=\"bibr\" anchor=\"ref3\" id=\"context_ref_3_1b\">[3]</a> and Isoda et al. <a ref-type=\"bibr\" anchor=\"ref4\" id=\"context_ref_4_1b\">[4]</a> picked up in <a ref-type=\"sec\" anchor=\"sec1a\" class=\"fulltext-link\">Section I-A</a> fulfilled the first condition by simultaneously optimizing multiple objectives, but they were insufficient for fulfilling the second condition because there was no direct use of past-trip records in planning. Also, Kasahara et al. <a ref-type=\"bibr\" anchor=\"ref5\" id=\"context_ref_5_1b\">[5]</a> and Lu et al. <a ref-type=\"bibr\" anchor=\"ref9\" id=\"context_ref_9_1b\">[9]</a> fulfilled the second condition, but they did not satisfy the first condition due to the lack of consideration of multi-objective functions such as minimizing POI costs and maximizing POI satisfaction.</p><p>To our best knowledge, there is no method that sufficiently satisfies both the first and second conditions.</p></div><div class=\"section_2\" id=\"sec1c\"><h3>C. Proposal and Contribution</h3><p>To achieve the first condition, well-known multi-objective optimization techniques such as genetic algorithm <a ref-type=\"bibr\" anchor=\"ref21\" id=\"context_ref_21_1c\">[21]</a>, simulated annealing <a ref-type=\"bibr\" anchor=\"ref22\" id=\"context_ref_22_1c\">[22]</a>, local search <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_1c\">[17]</a>, and memetic algorithm <a ref-type=\"bibr\" anchor=\"ref23\" id=\"context_ref_23_1c\">[23]</a> can be used. However, because these techniques are based on updating the solutions by applying the operations such as substitutions and insertions on some of the nodes in the initial or intermediate solutions, it is difficult to maintain information on the relationships and the visiting order of the past-trip records in the process of updating.</p><p>Now, we discuss utilizing ACO to tackle the first and second conditions. ACO has several ants that construct routes corporately, and it is promising to accomplish the multi-objective optimization by modifying the activity of each ant to handle each objective function. In addition, each ant follows pheromones left by the previous ants, and each ant constructs a route sequentially. Likewise, we consider past users as the previous ants, and their past-trip records as the past pheromones. As pheromones can be added to any piece of complete routes, we can construct a route reflecting past users\u2019 behaviors very effectively. As a result, ACO is expected to fulfill the first and second conditions and construct routes that optimize the multi-objective functions.</p><p>In this paper, we propose a multi-objective trip planning method based on ACO utilizing past-trip records.The proposed method optimizes multi-objective functions through modifying ants\u2019 behaviors (the first condition) and reflects the past-trip records by adding pheromones to a path between POIs (the second condition).</p><p>We aim to answer the following two research questions (RQs):</p><p>RQ1- Does the proposed method outperform the existing trip planning method?</p><p>RQ2- Do the objective functions in the proposed method work effectively to meet users\u2019 requests?</p><p>To answer these research questions, we conducted experimental evaluations using three real-world datasets. We compared the proposed method to the existing methods <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_1c\">[17]</a>, <a ref-type=\"bibr\" anchor=\"ref24\" id=\"context_ref_24_1c\">[24]</a>. In <a ref-type=\"bibr\" anchor=\"ref24\" id=\"context_ref_24_1c\">[24]</a>, a multi-objective ant colony algorithm based on the pheromone weight (MOACOPW) is proposed, which is one of the latest multi-objective ACO methods.</p><p>The evaluation results demonstrate that our method obtained high user satisfaction over routes and generated more stable and diverse solutions. Thus, we can say YES to the above two research questions.</p><p>The contributions of this paper are summarized as follows.\n<ol><li><p>ACO is applied to the MOOP and it constructs routes that fulfill user requirements by varying ant behaviors corresponding to different objective functions.</p></li><li><p>In the route construction process, the proposed method adjusts pheromones based on past-trip records and hence the proposed method can well reflect the past-trip records.</p></li><li><p>We compared the proposed method with the baseline methods by applying them to the datasets that have 150 POIs in Kyoto, Japan, 100 POIs in Sapporo, Japan, and 150 POIs in Tokyo, Japan. The results show that the proposed method outperforms the baseline methods in terms of POI satisfaction, POI cost, and past-trip similarity.</p></li></ol></p><p>The rest of this paper is organized as follows: <a ref-type=\"sec\" anchor=\"sec2\" class=\"fulltext-link\">Section II</a> defines the multi-objective trip planning problem (MOTPP); <a ref-type=\"sec\" anchor=\"sec3\" class=\"fulltext-link\">Section III</a> proposes an optimizing method of the MOTPP by using ACO; <a ref-type=\"sec\" anchor=\"sec4\" class=\"fulltext-link\">Section IV</a> demonstrates the experimental results compared to the baseline methods; and <a ref-type=\"sec\" anchor=\"sec5\" class=\"fulltext-link\">Section V</a> gives a conclusion and future works.</p></div></div>\n<div class=\"section\" id=\"sec2\"><div class=\"header article-hdr\"><div class=\"kicker\">\n\t\t                        SECTION II.</div><h2>Definition of Multi-Objective</h2></div><p>In this section, we define the MOTPP. Consider a complete graph <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$G=(V,E)$\n</tex-math></inline-formula> constructed from a target area where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V$\n</tex-math></inline-formula> is a node set that includes all POIs, a starting location and an ending location, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$E$\n</tex-math></inline-formula> is an edge set that contains edges between any two nodes <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}, v_{j} \\in V$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$G$\n</tex-math></inline-formula> is called an area graph. Starting location and ending location are denoted as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st} \\in V$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst} \\in V$\n</tex-math></inline-formula>. The other nodes are called POI nodes and the set of all POI nodes is denoted as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{p}$\n</tex-math></inline-formula>. POI satisfaction <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$s_{i}$\n</tex-math></inline-formula>, duration time <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$d_{i}$\n</tex-math></inline-formula>, and POI cost <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$c_{i}$\n</tex-math></inline-formula> are given to each POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i} \\in V_{p}$\n</tex-math></inline-formula>. Travel time <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$t_{ij}$\n</tex-math></inline-formula> is given to each edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{i}, v_{j}) \\in E$\n</tex-math></inline-formula>. We set the past-trip records as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}=[v_{1},\\cdots,v_{k}]$\n</tex-math></inline-formula> which represents the visiting orders from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{1} \\in V$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{k} \\in V$\n</tex-math></inline-formula>.</p><p>Based on the above settings, the MOTPP is defined as below. <a ref-type=\"table\" anchor=\"table2\" class=\"fulltext-link\">Table 2</a> lists 14 important notations in this paper.<div class=\"figure figure-full table\" id=\"table1\"><div class=\"figcaption\"><b class=\"title\">TABLE 1 </b>\nExample of input</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t1-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t1-3227431-small.gif\" alt=\"Table 1- &#10;Example of input\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table2\"><div class=\"figcaption\"><b class=\"title\">TABLE 2 </b>\nNotations and descriptions</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t2-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t2-3227431-small.gif\" alt=\"Table 2- &#10;Notations and descriptions\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p><div class=\"section_2\" id=\"definition1\"><h4>Definition 1:</h4><p>Given an area graph <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$G$\n</tex-math></inline-formula>, a time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$l$\n</tex-math></inline-formula> past-trip records, the problem aims to find multiple routes that begin from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> optimizing the objective functions (a) to (d) below.\n<ol><li><p>Maximize total POI satisfaction. Total POI satisfaction <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour}$\n</tex-math></inline-formula> is given by adding up the satisfaction of each POI node visited in the constructed route <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour$\n</tex-math></inline-formula>, i.e., <disp-formula id=\"deqn1\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\text {Maximize } S^{Tour} = \\sum _{v_{i} \\in Tour} s_{i}\\tag{1}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\text {Maximize } S^{Tour} = \\sum _{v_{i} \\in Tour} s_{i}\\tag{1}\\end{equation*}\n</span></span></disp-formula></p></li><li><p>Minimize total POI cost. Total POI cost <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour}$\n</tex-math></inline-formula> is given by adding up the cost of each node visited in the constructed route <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour$\n</tex-math></inline-formula>, i.e., <disp-formula id=\"deqn2\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\text {Minimize } C^{Tour} = \\sum _{v_{i} \\in Tour} c_{i}\\tag{2}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\text {Minimize } C^{Tour} = \\sum _{v_{i} \\in Tour} c_{i}\\tag{2}\\end{equation*}\n</span></span></disp-formula></p></li><li><p>Maximize similarity with past-trip records. The similarity <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim^{Tour}$\n</tex-math></inline-formula> between past-trip records and a constructed route <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour$\n</tex-math></inline-formula> is computed in <a ref-type=\"disp-formula\" anchor=\"deqn8\" href=\"#deqn8\" class=\"fulltext-link\">Eq. (8)</a> which will be defined in <a ref-type=\"sec\" anchor=\"sec3e3\" class=\"fulltext-link\">Section III-E3</a>, i.e., <disp-formula id=\"deqn3\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\text {Maximize } Sim^{Tour}\\tag{3}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\text {Maximize } Sim^{Tour}\\tag{3}\\end{equation*}\n</span></span></disp-formula></p></li><li><p>All of (a) to (c). The objective function (d) is expressed by:<disp-formula id=\"deqn4\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\text {Minimize } wv = \\sqrt {(1-(\\hat {S}))^{2}\\!+\\!(\\hat {C})^{2}\\!+\\!(1\\!-\\!(\\hat {Sim}))^{2}}\\tag{4}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\text {Minimize } wv = \\sqrt {(1-(\\hat {S}))^{2}\\!+\\!(\\hat {C})^{2}\\!+\\!(1\\!-\\!(\\hat {Sim}))^{2}}\\tag{4}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(\\hat {S})$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(\\hat {C})$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(\\hat {Sim})$\n</tex-math></inline-formula> are normalized values with a range of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$[{0,1}]$\n</tex-math></inline-formula> representing total POI satisfaction, total POI cost, and similarity with past-trip records, respectively.</p></li></ol></p></div><p>In <a ref-type=\"definition\" anchor=\"definition1\" class=\"fulltext-link\">Definition 1</a>, we set the objective function (d) to obtain a route so that all the objectives (a)\u2013(c) on that route are well balanced for users.</p><p>Also, a total travel time given by the sum of POI durations and travel times between nodes included in the constructed route must not exceed the time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula>.</p><p>Note that the MOTPP is a discrete optimization problem, because it deals with discrete variables related to POIs. Thus, this problem belongs to the discrete optimization problems.</p><p><div class=\"section_2\" id=\"\"><h4>Example 1:</h4><p><a ref-type=\"fig\" anchor=\"fig1\" class=\"fulltext-link\">Fig. 1</a>, <a ref-type=\"fig\" anchor=\"fig2\" class=\"fulltext-link\">Fig. 2</a>, and <a ref-type=\"table\" anchor=\"table1\" class=\"fulltext-link\">Table 1</a> show the example of MOTPP. <a ref-type=\"fig\" anchor=\"fig1\" class=\"fulltext-link\">Fig. 1</a> shows a set of POI nodes and its location. In this figure, we have 10 POI nodes, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{a}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula>. We also have a start location <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st}$\n</tex-math></inline-formula> and an end location <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula>. A past user visits <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{d}$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{c}$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> in this order. <a ref-type=\"table\" anchor=\"table1\" class=\"fulltext-link\">Table 1</a> summarizes POI information.</p><p><a ref-type=\"fig\" anchor=\"fig2\" class=\"fulltext-link\">Fig. 2</a> shows the routes constructed. In this case, we have four routes, a red route, a green route, a blue route, and a yellow route, which correspond to the objective functions (a) to (d), respectively. Route (c) traverses the past user\u2019s route.</p></div>\n<div class=\"figure figure-full\" id=\"fig1\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki1-3227431-large.gif\" data-fig-id=\"fig1\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki1-3227431-small.gif\" alt=\"FIGURE 1. - Example of POI nodes and past-trip records input for the MOTPP.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 1. </b><fig><p>Example of POI nodes and past-trip records input for the MOTPP.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig2\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki2-3227431-large.gif\" data-fig-id=\"fig2\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki2-3227431-small.gif\" alt=\"FIGURE 2. - Example of route output for the MOTPP.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 2. </b><fig><p>Example of route output for the MOTPP.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p></div>\n<div class=\"section\" id=\"sec3\"><div class=\"header article-hdr\"><div class=\"kicker\">\n\t\t                        SECTION III.</div><h2>Multi-Objective Trip Planning Based on ACO Utilizing Trip Records</h2></div><p>In this section, we propose an ACO-based method for solving the MOTPP.</p><div class=\"section_2\" id=\"sec3a\"><h3>A. Strategy</h3><p>We first introduce the two main strategies of ACO for solving the MOTPP as follows.\n<ol><li><p>Construct a route based on the pheromones derived from the past-trip records. This strategy aims at satisfying the <i>second condition</i>.</p></li><li><p>Construct a route that optimizes multi-objective functions using multiple ants\u2019 behaviors. This strategy aims at satisfying the <i>first condition</i>.</p></li></ol></p><p>For the implementation of (A), the common way is to initialize the pheromones based on the past-trip records. Due to the time-dependent decay of pheromones in ACO, we dynamically update pheromones based on the similarity between the constructed routes and the past-trip records. <a ref-type=\"sec\" anchor=\"sec3e3\" class=\"fulltext-link\">Section III-E3</a> describes the detailed implementation of the strategy (A). This strategy aims to fulfill the second condition discussed in <a ref-type=\"sec\" anchor=\"sec1a\" class=\"fulltext-link\">Section I-A</a>.</p><p>For the implementation of (B), it is difficult to find a solution that optimizes all objective functions completely because of the trade-off relationship <a ref-type=\"bibr\" anchor=\"ref25\" id=\"context_ref_25_3a\">[25]</a>, <a ref-type=\"bibr\" anchor=\"ref26\" id=\"context_ref_26_3a\">[26]</a> of several objective functions. To settle the issue, one possible way is to construct Pareto optimal solutions <a ref-type=\"bibr\" anchor=\"ref27\" id=\"context_ref_27_3a\">[27]</a>. Also, it is required to find Pareto optimal solutions that consider all objective functions well-balanced without trapping in local solutions. To avoid trapping in local solutions, our method proposes <i>local search</i> and <i>path relinking</i>, and the details of the two procedures are shown in <a ref-type=\"sec\" anchor=\"sec3e1\" class=\"fulltext-link\">Section III-E1</a> and <a ref-type=\"sec\" anchor=\"sec3f1\" class=\"fulltext-link\">Section III-F1</a>, respectively.</p></div><div class=\"section_2\" id=\"sec3b\"><h3>B. The Flow of Our Method</h3><p>Based on the discussion in <a ref-type=\"sec\" anchor=\"sec3a\" class=\"fulltext-link\">Section III-A</a>, the flow of our method is shown in <a ref-type=\"fig\" anchor=\"fig3\" class=\"fulltext-link\">Fig. 3</a> and below. \n<ol><li><p><b>Initialization</b></p><p>Initialize the pheromones to the edges in the area graph based on the past-trip records.</p></li><li><p><b>Route Construction</b></p><p>Set an objective function to each ant. Each ant constructs a route from the starting location <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st}$\n</tex-math></inline-formula> to the ending location <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> by selecting nodes referring to the pheromones and the assigned objective function.</p></li><li><p><b>Local Search+Pheromone Updating</b></p><p>Apply <i>local search</i> to a constructed route in Step 2 to locally optimize one of the objective functions (a) to (d). Update the pheromones by <i>local updating</i> and <i>similarity updating</i>. If the number of newly constructed routes is less than <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$M$\n</tex-math></inline-formula>, go to Step 2.</p></li><li><p><b>Path Relinking+Pheromone Global Updating</b></p><p>Apply <i>path relinking</i> to add a solution to a set of Pareto optimal solutions. Perform <i>global updating</i> to update the pheromones. Repeatedly perform Step 2 to Step <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$4 N$\n</tex-math></inline-formula> times.</p></li><li><p><b>Route Selection and Construction</b></p><p>Select optimal routes corresponding to the objective functions (a) to (d) and provide them to the user.</p></li></ol>\n<div class=\"figure figure-full\" id=\"fig3\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki3-3227431-large.gif\" data-fig-id=\"fig3\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki3-3227431-small.gif\" alt=\"FIGURE 3. - Proposed method flow.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 3. </b><fig><p>Proposed method flow.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p><p>We explain Step 1\u2013Step 5 in <a ref-type=\"sec\" anchor=\"sec3c\" class=\"fulltext-link\">Section III-C</a> to <a ref-type=\"sec\" anchor=\"sec3g\" class=\"fulltext-link\">III-G</a> respectively in detail.</p></div><div class=\"section_2\" id=\"sec3c\"><h3>C. Initialization (Step 1)</h3><p>This step initializes the pheromones based on the past-trip records. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula> be one of the past-trip records. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{a},v_{b})$\n</tex-math></inline-formula> be an edge included in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula>, where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{a}$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{b} \\in V$\n</tex-math></inline-formula> are consecutive nodes. Note that, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula> means one of the past-trip records and initial pheromone will be given to the same route based on <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula>. Then we give the pheromone of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$I_{old}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{a},v_{b})$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$I_{old}$\n</tex-math></inline-formula> is a parameter that controls the importance of the past-trip records. In our method, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$I_{old}$\n</tex-math></inline-formula> is set to be 0.6 based on our preliminary studies where 0.6 turns out to be the best value in the range of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(0.0, 10.0)$\n</tex-math></inline-formula>. This step enables the ant to construct a route that resembles the past-trip records.</p><p>For the example in <a ref-type=\"fig\" anchor=\"fig3\" class=\"fulltext-link\">Fig. 3</a>, with the four nodes named A, B, C, and D, and the past route which follows <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\text{A}\\to \\text{C}\\to \\text{B}$\n</tex-math></inline-formula> shown in [Step 1], we give the pheromones to the edges in green. Every ant will follow these pheromones in Step 2 and Step 3 and hence we can construct a route similar to past-trip records.</p></div><div class=\"section_2\" id=\"sec3d\"><h3>D. Route Construction (Step 2)</h3><p>In this step, an ant constructs a route from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> by moving POI nodes sequentially until the total travel time exceeds the time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula>. Step 2 and Step 3 are repeated <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$M$\n</tex-math></inline-formula> times. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> be the route constructed at <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula>-th iteration of Step 2\u2013 Step 3. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$t_{ij}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$d_{l}$\n</tex-math></inline-formula> be the travel time from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i} \\in V$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in V$\n</tex-math></inline-formula> and the duration time at <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{l} \\in V_{p}$\n</tex-math></inline-formula>. Then the total travel time, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T_{k}$\n</tex-math></inline-formula>, of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> is given by summing up all the travel times and duration times in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$s_{j}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$c_{j}$\n</tex-math></inline-formula> be the POI satisfaction and POI cost at <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in V_{p}$\n</tex-math></inline-formula>. Likewise, the total POI satisfaction <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{k}}$\n</tex-math></inline-formula> and total POI cost <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{k}}$\n</tex-math></inline-formula> of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> are given by summing up all POI satisfactions and POI costs, respectively.</p><div class=\"section_2\" id=\"sec3d1\"><h4>1) Poi Selection</h4><p>Assume that an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> is currently located at the node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula>. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$J_{k}(i)$\n</tex-math></inline-formula> show a set of unvisited POI nodes. Then, we decide the next visiting POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> based on the <i>state transition rule</i> below: \n<ol><li><p>Ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> will choose <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in J_{k}(i)$\n</tex-math></inline-formula> as the next visiting POI node at a probability of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$q_{0}$\n</tex-math></inline-formula>, where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> is the POI node which has the highest transition probability <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> among all POI nodes in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$J_{k}(i)$\n</tex-math></inline-formula>.</p></li><li><p>Ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> will randomly choose <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in J_{k}(i)$\n</tex-math></inline-formula> as the next visiting POI node at a probability of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(1-q_{0})$\n</tex-math></inline-formula>.</p></li></ol></p><p>By introducing the probability of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$q_{0}$\n</tex-math></inline-formula>, the ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> explores various routes that focus on the pheromones and POI features at the same time. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$q_{0}$\n</tex-math></inline-formula> is set as 0.4 to have some amount of randomness in route exploration but to follow the state transition rule based on our preliminary studies where 0.4 turns out to be the best value in the range of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(0.0, 1.0)$\n</tex-math></inline-formula>. If the total travel time of the route from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> exceeds the time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula> when <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> is decided as the next POI node, the route immediately ends up with a route from the current node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> and terminate the route exploration.</p></div><div class=\"section_2\" id=\"sec3d2\"><h4>2) Transition Probability</h4><p>The transition probability <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> in 1) and 2) above is designed as follows. The amount of pheromone at an edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{i},v_{j}) \\in E$\n</tex-math></inline-formula> is expressed as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\tau (i,j)$\n</tex-math></inline-formula>. It is also set as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\eta (i,j)=1/t_{ij}$\n</tex-math></inline-formula>. The smaller the travel time is, the larger the value of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\eta (i,j)$\n</tex-math></inline-formula> becomes. Moreover, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\xi (j)$\n</tex-math></inline-formula> describes what extent the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> costs and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\xi (j)$\n</tex-math></inline-formula> for <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in V_{p}$\n</tex-math></inline-formula> is defined as:<disp-formula id=\"deqn5\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\xi (j) = 1-\\frac {c_{j}} {\\max \\limits_{u \\in V_{p}} \\{c_{u}\\}} \\tag{5}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\xi (j) = 1-\\frac {c_{j}} {\\max \\limits_{u \\in V_{p}} \\{c_{u}\\}} \\tag{5}\\end{equation*}\n</span></span></disp-formula> Then, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> is calculated in <a ref-type=\"disp-formula\" anchor=\"deqn6\" href=\"#deqn6\" class=\"fulltext-link\">Eq. (6)</a> for each <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in J_{k}(i)$\n</tex-math></inline-formula>.<disp-formula id=\"deqn6\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} p_{k}(i,j) =\\frac {\\displaystyle [\\tau (i,j)]^{\\alpha} [\\eta (i,j)]^{\\beta} [s_{j}]^{\\gamma} [\\xi (j)]^{\\mu} } {\\displaystyle \\sum _{u\\in {J_{k}(i)}}^{} [\\tau (i,u)]^{\\alpha} [\\eta (i,u)]^{\\beta} [s_{u}]^{\\gamma} [\\xi (u)]^{\\mu} } \\tag{6}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} p_{k}(i,j) =\\frac {\\displaystyle [\\tau (i,j)]^{\\alpha} [\\eta (i,j)]^{\\beta} [s_{j}]^{\\gamma} [\\xi (j)]^{\\mu} } {\\displaystyle \\sum _{u\\in {J_{k}(i)}}^{} [\\tau (i,u)]^{\\alpha} [\\eta (i,u)]^{\\beta} [s_{u}]^{\\gamma} [\\xi (u)]^{\\mu} } \\tag{6}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$s_{j}$\n</tex-math></inline-formula> is POI satisfaction of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha $\n</tex-math></inline-formula> shows the weight of the pheromone on the edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(i,j)$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta $\n</tex-math></inline-formula> shows the weight of the time between the nodes <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma $\n</tex-math></inline-formula> shows the weight of the POI satisfaction on the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula>. Lastly, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu $\n</tex-math></inline-formula> shows the weight of the POI cost of the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula>. All the objective functions (a) to (d) must relate to the parameter <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha $\n</tex-math></inline-formula> since the pheromones on the edge well reflect the past-trip records as well as the solution quality searched before. Also, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta $\n</tex-math></inline-formula> should be set to large since the time limitation must be satisfied. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma $\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu $\n</tex-math></inline-formula> should be set to large depending on the objective functions used. The transition probability <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> affects the selection of next POI node. It leads each ant to choose a better POI node for the objective functions (a) to (d) depending on the parameter setting. These four parameters are mainly determined based on <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_3d2\">[17]</a> and <a ref-type=\"bibr\" anchor=\"ref28\" id=\"context_ref_28_3d2\">[28]</a>. Further, we have also conducted several preliminary experiments and finally determined the parameter values in <a ref-type=\"table\" anchor=\"table3\" class=\"fulltext-link\">Table 3</a>.<div class=\"figure figure-full table\" id=\"table3\"><div class=\"figcaption\"><b class=\"title\">TABLE 3 </b>\nParameters for the state transition rule for an ant \n$k (k'= k \\mod5)$\n</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t3-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t3-3227431-small.gif\" alt=\"Table 3- &#10;Parameters for the state transition rule for an ant &#10;$k (k'= k \\mod5)$&#10;\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p><p>In our method, we determine the four parameters in <a ref-type=\"disp-formula\" anchor=\"deqn6\" href=\"#deqn6\" class=\"fulltext-link\">Eq. (6)</a> depending on the iteration count. Let us consider the <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula>-th iteration of Step 2\u2013Step 3 in <a ref-type=\"fig\" anchor=\"fig4\" class=\"fulltext-link\">Fig. 4</a> and let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k' =k\\mod 5$\n</tex-math></inline-formula>. The settings of the four parameters are summarized in <a ref-type=\"table\" anchor=\"table3\" class=\"fulltext-link\">Table 3</a>.<a ref-type=\"fn\" anchor=\"fn1\" class=\"footnote-link\">1</a> For example, for <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k'=0$\n</tex-math></inline-formula>, the four parameters are set as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha =0.5$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta =1.0$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma =0$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu =1.0$\n</tex-math></inline-formula> corresponding to the objective functions (a) which aims at minimizing the total POI cost.</p><p>The example of our selection of the next POI node by the state transition rule is shown below.</p><p><div class=\"section_2\" id=\"\"><h4>Example 2:</h4><p>With POI nodes, POI satisfactions and POI costs in <a ref-type=\"table\" anchor=\"table4\" class=\"fulltext-link\">Table 4</a>, we suppose that an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> starts at <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st}$\n</tex-math></inline-formula> in <a ref-type=\"fig\" anchor=\"fig4\" class=\"fulltext-link\">Fig. 4</a>. If the aim of the ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> is the objective function (a), the parameters are set as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha =0.5$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta =1.0$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma =0$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu =1.0$\n</tex-math></inline-formula> according to <a ref-type=\"table\" anchor=\"table3\" class=\"fulltext-link\">Table 3</a> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> of each POI node is listed in the fourth column in <a ref-type=\"table\" anchor=\"table4\" class=\"fulltext-link\">Table 4</a>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{c}$\n</tex-math></inline-formula> should be selected at a probability of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$q_{0}$\n</tex-math></inline-formula> as the next POI node as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,c)$\n</tex-math></inline-formula> is the highest among all <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> values, and then we construct a sub-route <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st} \\xrightarrow {} v_{c}$\n</tex-math></inline-formula> shown in red in <a ref-type=\"fig\" anchor=\"fig4\" class=\"fulltext-link\">Fig. 4</a>. In the same way, if the aim is the objective function (b), the parameters are set as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha =0.5$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta =1.0$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma =1.0$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu =0$\n</tex-math></inline-formula> according to <a ref-type=\"table\" anchor=\"table4\" class=\"fulltext-link\">Table 4</a> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula> of each POI node is listed in the fifth column in <a ref-type=\"table\" anchor=\"table4\" class=\"fulltext-link\">Table 4</a>. Likewise, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{b}$\n</tex-math></inline-formula> should be selected at a probability of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$q_{0}$\n</tex-math></inline-formula> as the next POI node and then we construct a sub-route <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st} \\xrightarrow {} v_{b}$\n</tex-math></inline-formula> shown in blue in <a ref-type=\"fig\" anchor=\"fig4\" class=\"fulltext-link\">Fig. 4</a>. POI selection in the cases of the objective functions (c) and (d) will be conducted similarly.</p></div> <div class=\"figure figure-full table\" id=\"table4\"><div class=\"figcaption\"><b class=\"title\">TABLE 4 </b>\nPOI satisfaction, POI cost, and \n$p_{k}(i,j)$\n</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t4-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t4-3227431-small.gif\" alt=\"Table 4- &#10;POI satisfaction, POI cost, and &#10;$p_{k}(i,j)$&#10;\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div>\n<div class=\"figure figure-full\" id=\"fig4\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki4-3227431-large.gif\" data-fig-id=\"fig4\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki4-3227431-small.gif\" alt=\"FIGURE 4. - Example of a route selection by &#10;$p_{k}(i,j)$&#10;.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 4. </b><fig><p>Example of a route selection by <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$p_{k}(i,j)$\n</tex-math></inline-formula>.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p></div></div><div class=\"section_2\" id=\"sec3e\"><h3>E. Local Search+Pheromone Updating (Step 3)</h3><p>In Step 3, <i>local search</i> and two pheromone updatings, <i>local updating</i> and <i>similarity updating</i>, are performed.</p><div class=\"section_2\" id=\"sec3e1\"><h4>1) Local Search</h4><p>Local search tries to improve the route constructed by an ant through swapping POI nodes in the route.</p><p>Assume that <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> is the route constructed by an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> in Step 2 aiming at the objective function (a). Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> be a POI node in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>. Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j} \\in J_{k}(i)$\n</tex-math></inline-formula> be one of the unvisited POI nodes. Then we swap <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> and see how much the total POI satisfaction is improved without exceeding the time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula>.</p><p>Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}' \\in J_{k}(i)$\n</tex-math></inline-formula> be the unvisited POI node which gives the maximum total POI satisfaction improvement after swapping <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}'$\n</tex-math></inline-formula>. Then we actually swap <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}'$\n</tex-math></inline-formula>. Note that, if any POI node in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$J_{k}(i)$\n</tex-math></inline-formula> does not improve total POI satisfaction without exceeding the time limitation, the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> remains in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>. The above process is repeatedly performed for every POI node in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>.</p><p>The same process is applied to the routes aiming at the objective functions (b) and (c). But the local search process is not applied to the routes aiming at the objective function (d) as to save the order of POI nodes constructed by an ant considering the pheromones in the route.</p></div><div class=\"section_2\" id=\"sec3e2\"><h4>2) Pheromone Updating 1: Local Updating</h4><p>After the route from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{st}$\n</tex-math></inline-formula> to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{dst}$\n</tex-math></inline-formula> is constructed by an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> in Step 2 and modified in <i>local search</i> of Step 3, the pheromones along the route is adjusted through <i>local updating</i>. The pheromones of the edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{i},v_{j})$\n</tex-math></inline-formula> of two nodes <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{j}$\n</tex-math></inline-formula> in the route are updated as:<disp-formula id=\"deqn7\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\tau (i,j) \\leftarrow (1-\\rho _{l})\\tau (i,j)+\\rho _{l}\\Delta \\tau (i,j) \\tag{7}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\tau (i,j) \\leftarrow (1-\\rho _{l})\\tau (i,j)+\\rho _{l}\\Delta \\tau (i,j) \\tag{7}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{l}$\n</tex-math></inline-formula> is a parameter that controls the amount of pheromone evaporation and it is set as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{l} = 0.01$\n</tex-math></inline-formula> in our method based on <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_3e2\">[17]</a> since <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{l}$\n</tex-math></inline-formula> must be small enough to gradually reflect the trajectory of an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\Delta \\tau (i,j)$\n</tex-math></inline-formula> is a constant that indicates the amount of pheromone which is added to edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{i},v_{j})$\n</tex-math></inline-formula> by an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula>. In our method, the constant is <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$1/(nT)$\n</tex-math></inline-formula> referring to the setting in <a ref-type=\"bibr\" anchor=\"ref28\" id=\"context_ref_28_3e2\">[28]</a>, where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$n$\n</tex-math></inline-formula> is the number of the nodes.</p><p>Local updating makes other ants harder to follow the route of an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> to prompt them to explore various routes during Step 2 and Step 3 by evaporating the amount of pheromone deposit by an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula>.</p></div><div class=\"section_2\" id=\"sec3e3\"><h4>3) Pheromone Updating 2: Similarity Updating</h4><p>After <i>local updating</i>, an additional pheromone is attached to the route based on the similarity to the past-trip records. It helps the ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k+1$\n</tex-math></inline-formula> or further ants to build a route that considers the past-trip records.</p><div class=\"section_2\" id=\"sec3e3a\"><h5>a: Introduction of Similarity</h5><p>Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> be the route constructed in Step 2 and Step 3 by an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T_{k}$\n</tex-math></inline-formula> be its travel time. By adopting the concept of similarity calculation between strings, we regard nodes in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> as a string <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$str_{k}$\n</tex-math></inline-formula> such as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$str_{k}=``abc''$\n</tex-math></inline-formula> if we have <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}=[a,b,c]$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$l_{k}$\n</tex-math></inline-formula> means the length of the <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$str_{k}$\n</tex-math></inline-formula>. Likewise, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$str_{o}=``ab''$\n</tex-math></inline-formula> is a string corresponding to the past-trip record <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past} = [a,b]$\n</tex-math></inline-formula>, and its length is represented as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$l_{o}$\n</tex-math></inline-formula>. Assume that <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lsd(str_{k}, str_{o})$\n</tex-math></inline-formula> is the levenshtein distance <a ref-type=\"bibr\" anchor=\"ref29\" id=\"context_ref_29_3e3a\">[29]</a> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lcs(str_{k}, str_{o})$\n</tex-math></inline-formula> is the length of the longest common subsequence <a ref-type=\"bibr\" anchor=\"ref30\" id=\"context_ref_30_3e3a\">[30]</a>, between two strings. The similarity <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim(Tour^{k}, Tour^{past})$\n</tex-math></inline-formula> between two routes is defined as:<disp-formula id=\"deqn8\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{align*}&amp;\\hspace {-1.2pc}Sim(str_{k},str_{o}) \\\\=&amp;\\left [{\\rho _{o} \\left ({1-\\frac {lsd(str_{k},str_{o})}{\\max (l_{k},l_{o})}}\\right)+(1-\\rho _{o}) \\frac {lcs(str_{k},str_{o})}{\\min (l_{n},l_{o})}}\\right] \\frac {T_{k}}{T} \\tag{8}\\end{align*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{align*}&amp;\\hspace {-1.2pc}Sim(str_{k},str_{o}) \\\\=&amp;\\left [{\\rho _{o} \\left ({1-\\frac {lsd(str_{k},str_{o})}{\\max (l_{k},l_{o})}}\\right)+(1-\\rho _{o}) \\frac {lcs(str_{k},str_{o})}{\\min (l_{n},l_{o})}}\\right] \\frac {T_{k}}{T} \\tag{8}\\end{align*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{o} = l_{k}/(l_{k}+l_{o})$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{o}$\n</tex-math></inline-formula> is a parameter to add balance weights between <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lsd(str_{k}, str_{o})$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lcs(str_{k}, str_{o})$\n</tex-math></inline-formula> regardless of the length gap between <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula>. Even if the length of the past-trip record is quite short, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{o}$\n</tex-math></inline-formula> prevents <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim(Tour^{k}, Tour^{past})$\n</tex-math></inline-formula> from becoming small.</p><p>As Shown in <a ref-type=\"disp-formula\" anchor=\"deqn8\" href=\"#deqn8\" class=\"fulltext-link\">Eq. (8)</a>, the similarity depends on <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lsd(str_{k}, str_{o})$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lcs(str_{k}, str_{o})$\n</tex-math></inline-formula>. If the two routes have the same and similar sequence, the similarity becomes larger since <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lsd(str_{k},str_{o})$\n</tex-math></inline-formula> becomes larger. Moreover, if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> shares POI nodes with <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula>, the similarity also becomes larger since <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lcs(str_{k},str_{o})$\n</tex-math></inline-formula> becomes larger.</p><div class=\"section_2\" id=\"\"><h4>Example 3:</h4><p>Consider <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k} = [a,b,c,d,e]$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past} = [b,c,e]$\n</tex-math></inline-formula>, and let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T_{k} = T$\n</tex-math></inline-formula> for simplification. In this case, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lsd(str_{k}, str_{o})$\n</tex-math></inline-formula> becomes two and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$lcs(str_{k}, str_{o})$\n</tex-math></inline-formula> becomes three. As a result, the similarity <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim(Tour^{k}, Tour^{past})$\n</tex-math></inline-formula> becomes 0.75. Moreover, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim(Tour^{k}, Tour^{past})$\n</tex-math></inline-formula> becomes 1.00 if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> perfectly matches <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{past}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim(Tour^{k}, Tour^{past})$\n</tex-math></inline-formula> becomes 0 if they have no shared nodes.</p></div></div><div class=\"section_2\" id=\"sec3e3b\"><h5>b: Similarity Updating</h5><p>The average value of similarities between a constructed route and all past-trip records is represented as <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim_{k}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim_{k}$\n</tex-math></inline-formula> is called <i>similarity</i> of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>. Pheromone whose amount is <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim_{k} \\cdot \\rho _{old}$\n</tex-math></inline-formula> is attached to all edges in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>. We set <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{old} = 3.0$\n</tex-math></inline-formula> based on our preliminary studies where 3.0 turns out to be the best value in the range of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(0.0, 10.0)$\n</tex-math></inline-formula>, since we reflect the similarity largely and then we set <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{old}$\n</tex-math></inline-formula> to be a relatively large value.</p><p>If the route of an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> has a high similarity to past-trip records, <i>similarity updating</i> makes other ants easy to follow the route of an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> to construct a route also similar to past-trip records during Step 2 and Step 3.</p></div></div><div class=\"section_2\" id=\"sec3e4\"><h4>4) Update Pareto Optimal Solutions</h4><p>At the end of Step 3, Pareto optimal solutions are updated by comparing total POI satisfaction and total POI cost among each solution <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{i} \\in \\mathcal {S}^{PO}$\n</tex-math></inline-formula>, where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula> is the set of all Pareto optimal solutions constructed before.</p><p>Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{k}}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{k}}$\n</tex-math></inline-formula> be the total POI satisfaction and total POI cost of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> just constructed by an ant <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> in Step 2 and Step 3. In the same way, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{i}}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{i}}$\n</tex-math></inline-formula> represent those of one Pareto optimal solution <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{i}$\n</tex-math></inline-formula>. If there exists a Pareto optimal solution <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{i}$\n</tex-math></inline-formula> that meets either <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{k}} &gt; S^{Tour^{i}}$\n</tex-math></inline-formula> or <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{k}} &lt; C^{Tour^{i}}$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> is added to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>. After that, for any two solutions <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{j}$\n</tex-math></inline-formula>, if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{i}} \\geq S^{Tour^{j}}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{i}} \\leq C^{Tour^{j}}$\n</tex-math></inline-formula> holds, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{j}$\n</tex-math></inline-formula> is deleted from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>. Hence, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula> includes solutions, each of which has larger total POI satisfaction or smaller total POI cost compared to others.</p><p>In updating Pareto optimal solutions, we do not take into account the similarity of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{i}$\n</tex-math></inline-formula>. This is because the similarity defined in <a ref-type=\"sec\" anchor=\"sec3e3\" class=\"fulltext-link\">Section III-E3</a> must relate to user preferences but does not directly reflect it. On the other hand, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{k}}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{k}}$\n</tex-math></inline-formula> directly reflect total POI satisfaction and total POI cost. In our trip planning strategy, we give the priority to total POI satisfaction and total POI cost and construct the Pareto optimal solutions as above.</p></div></div><div class=\"section_2\" id=\"sec3f\"><h3>F. Path Relinking+Pheromone Updating (Step 4)</h3><p>In Step 4, <i>path relinking</i> and <i>global updating</i> are performed.</p><div class=\"section_2\" id=\"sec3f1\"><h4>1) Path Relinking</h4><p>By repeating Step 3 and Step 4, several Pareto optimal solutions are constructed. The goal of <i>path relinking</i> is to optimize multi-objective functions in good balance by partially merging these Pareto optimal routes <a ref-type=\"bibr\" anchor=\"ref31\" id=\"context_ref_31_3f1\">[31]</a>. <i>Path relinking</i> is composed of node insertion and node deletion.</p><div class=\"section_2\" id=\"sec3f1a\"><h5>a: Node Insertion</h5><p>Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{guide}$\n</tex-math></inline-formula> be two routes constructed before (see <a ref-type=\"fig\" anchor=\"fig5\" class=\"fulltext-link\">Fig. 5</a>). Let <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> be the set of POI nodes that are included in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{guide}$\n</tex-math></inline-formula> but not in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{ig}$\n</tex-math></inline-formula> is the set of POI nodes that are included in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> but not in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{guide}$\n</tex-math></inline-formula>. We try to insert every POI node in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> one by one into the best position into <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>. Assume that we insert the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> into an edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{k},v_{k+1})$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> and that the total travel time is increased by <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\delta t(i,k)$\n</tex-math></inline-formula>. When <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\delta t(i,k)$\n</tex-math></inline-formula> is minimized, the edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{k},v_{k+1})$\n</tex-math></inline-formula> is the best insert position for <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula>. In <a ref-type=\"fig\" anchor=\"fig5\" class=\"fulltext-link\">Fig. 5(a)</a>, let us pick up <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{5}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula>. The best position for <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{5}$\n</tex-math></inline-formula> can be the edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{1},v_{2})$\n</tex-math></inline-formula>. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\delta t_{min}$\n</tex-math></inline-formula> is defined by the minimum <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\delta t(i,k)$\n</tex-math></inline-formula> value for inserting every POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i} \\in V_{gi}$\n</tex-math></inline-formula> into its best insert position <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{k},v_{k+1})$\n</tex-math></inline-formula>.\n<div class=\"figure figure-full\" id=\"fig5\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki5-3227431-large.gif\" data-fig-id=\"fig5\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki5-3227431-small.gif\" alt=\"FIGURE 5. - Path relinking.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 5. </b><fig><p>Path relinking.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p><p>Then we find out the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> maximizing <a ref-type=\"disp-formula\" anchor=\"deqn9\" href=\"#deqn9\" class=\"fulltext-link\">Eq. (9)</a> below:<disp-formula id=\"deqn9\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} b(w) = \\frac {\\displaystyle [\\tau (k,w)]^{\\alpha} [\\eta (k,w)]^{\\beta} [s_{w}]^{\\gamma} [\\xi (w)]^{\\mu} }{\\delta t_{min}} \\tag{9}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} b(w) = \\frac {\\displaystyle [\\tau (k,w)]^{\\alpha} [\\eta (k,w)]^{\\beta} [s_{w}]^{\\gamma} [\\xi (w)]^{\\mu} }{\\delta t_{min}} \\tag{9}\\end{equation*}\n</span></span></disp-formula> where the edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{k},v_{k+1})$\n</tex-math></inline-formula> is the best position for inserting <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha $\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta $\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma $\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu $\n</tex-math></inline-formula> are the parameters of the objective function (d) in <a ref-type=\"table\" anchor=\"table3\" class=\"fulltext-link\">Table 3</a>. If the total travel time does not exceed the time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula>, we actually insert the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w}$\n</tex-math></inline-formula> into <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> at its best insert position. In <a ref-type=\"fig\" anchor=\"fig5\" class=\"fulltext-link\">Fig. 5(b)</a>, if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{5}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> maximizes <a ref-type=\"disp-formula\" anchor=\"deqn9\" href=\"#deqn9\" class=\"fulltext-link\">Eq. (9)</a>, then <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{5}$\n</tex-math></inline-formula> is actually inserted into <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> at the edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{1},v_{2})$\n</tex-math></inline-formula>.</p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$b(w)$\n</tex-math></inline-formula> becomes large if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\delta t_{min}$\n</tex-math></inline-formula> is small and/or the numerator in <a ref-type=\"disp-formula\" anchor=\"deqn9\" href=\"#deqn9\" class=\"fulltext-link\">Eq. (9)</a> is large. If <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\delta t_{min}$\n</tex-math></inline-formula> is small, we can insert the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w} \\in V_{gi}$\n</tex-math></inline-formula> into <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> without much detouring. If the numerator in <a ref-type=\"disp-formula\" anchor=\"deqn9\" href=\"#deqn9\" class=\"fulltext-link\">Eq. (9)</a> is large, it means that the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w} \\in V_{gi}$\n</tex-math></inline-formula> is preferable in terms of the objective function (d). Then we pick up the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> maximizing <a ref-type=\"disp-formula\" anchor=\"deqn9\" href=\"#deqn9\" class=\"fulltext-link\">Eq. (9)</a>.</p><p>We try the above process until all the POI nodes in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula> are inserted into <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>.</p></div><div class=\"section_2\" id=\"sec3f1b\"><h5>b: Node Deletion</h5><p>Due to the time limitation <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T$\n</tex-math></inline-formula>, it may be the case where no POI nodes can be inserted in the node insertion step described above.</p><p>In this case, we delete a POI node in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>. We find out the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{x}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{ig}$\n</tex-math></inline-formula> minimizing <disp-formula id=\"deqn10\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} r(x) = \\frac {\\displaystyle [\\tau (i,x)]^{\\alpha} [\\eta (i,x)]^{\\beta} [s_{x}]^{\\gamma} [\\xi (x)]^{\\mu} }{d_{x}} \\tag{10}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} r(x) = \\frac {\\displaystyle [\\tau (i,x)]^{\\alpha} [\\eta (i,x)]^{\\beta} [s_{x}]^{\\gamma} [\\xi (x)]^{\\mu} }{d_{x}} \\tag{10}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{i}$\n</tex-math></inline-formula> is the preceding POI node for <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{x}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\alpha $\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\beta $\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\gamma $\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mu $\n</tex-math></inline-formula> are the parameters of the objective function (d) in <a ref-type=\"table\" anchor=\"table3\" class=\"fulltext-link\">Table 3</a>. Then, we actually delete the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{x}$\n</tex-math></inline-formula> from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>.</p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$r(x)$\n</tex-math></inline-formula> becomes small if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$d_{x}$\n</tex-math></inline-formula> is large and/or the numerator in <a ref-type=\"disp-formula\" anchor=\"deqn10\" href=\"#deqn10\" class=\"fulltext-link\">Eq. (10)</a> is small. If <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$d_{x}$\n</tex-math></inline-formula> is large, the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{x}$\n</tex-math></inline-formula> takes a long time to look around. If the numerator in <a ref-type=\"disp-formula\" anchor=\"deqn10\" href=\"#deqn10\" class=\"fulltext-link\">Eq. (10)</a> is small, it means that the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{x}$\n</tex-math></inline-formula> is not preferable in terms of the objective function (d). Then we delete the POI node <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{x}$\n</tex-math></inline-formula> from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>.</p></div><div class=\"section_2\" id=\"sec3f1c\"><h5>c: Path Relinking Procedure</h5><p>The path relinking procedure is summarized as <a ref-type=\"algorithm\" anchor=\"alg1\" class=\"fulltext-link\">Algorithm 1</a>. By applying this procedure, the constructed routes are mixed up and we expect that the good routes are constructed.<div class=\"algorithm\" id=\"alg1\"><h5>Algorithm 1 Path Relinking in Step 4</h5><p><b>procedure</b> <i>path relinking</i> (<inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>: set of Pareto optimal solutions)</p><p><b>for</b> <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$i = 1 \\, \\ldots \\, \\mathcal {S}^{PO}.\\mathrm {length}$\n</tex-math></inline-formula> <b>do</b></p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init} = \\mathcal {S}^{PO}[i] $\n</tex-math></inline-formula></p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{guide} = rand(\\mathcal {S}^{PO})$\n</tex-math></inline-formula></p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi} = \\{v_{w} \\mid v_{w} \\in Tour^{guide}, v_{w} \\notin Tour^{init} \\}$\n</tex-math></inline-formula></p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{ig} = \\{v_{x} \\mid v_{x} \\in Tour^{init}, v_{x} \\notin Tour^{guide} \\}$\n</tex-math></inline-formula></p><p><b><b>while</b> </b><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi} \\neq \\phi $\n</tex-math></inline-formula> <b>do</b></p><p>Perform node insertion</p><p><b>if</b> <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w}$\n</tex-math></inline-formula> is inserted in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula>, <b>then</b></p><p>Insert <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{init}$\n</tex-math></inline-formula> into <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>\u2019</p><p>Delete <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$v_{w}$\n</tex-math></inline-formula> from <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$V_{gi}$\n</tex-math></inline-formula></p><p><b>end if</b></p><p><b>if</b> no node is inserted, <b>then</b></p><p>Perform node deletion</p><p><b>end if</b></p><p><b>end while</b></p><p>Update <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula> using every route in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>\u2019</p><p><b>end for</b></p><p><b>end procedure</b></p></div></p></div></div><div class=\"section_2\" id=\"sec3f2\"><h4>2) Pheromone Global Updating</h4><p>After performing <i>path relinking</i>, we update the amount of pheromone for all Pareto optimal solutions in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula> and this adjustment is called <i>global updating</i>. In the updating, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\Delta \\tau (k)$\n</tex-math></inline-formula> is a pheromone adding parameter that adjusts the amount of pheromone for <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>.</p><p>For a solution <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k} \\in \\mathcal {S}^{PO}$\n</tex-math></inline-formula>, if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$S^{Tour^{k}}$\n</tex-math></inline-formula> of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> is the highest or second highest among all solutions in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>, i.e., the solution is good enough in terms of the objective function (a), then <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\Delta \\tau (k)$\n</tex-math></inline-formula> is calculated in <a ref-type=\"disp-formula\" anchor=\"deqn11\" href=\"#deqn11\" class=\"fulltext-link\">Eq. (11)</a>.<disp-formula id=\"deqn11\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\Delta \\tau (k)\\,\\,= \\rho _{s} \\cdot S^{Tour^{k}} \\tag{11}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\Delta \\tau (k)\\,\\,= \\rho _{s} \\cdot S^{Tour^{k}} \\tag{11}\\end{equation*}\n</span></span></disp-formula></p><p>For a solution <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k} \\in \\mathcal {S}^{PO}$\n</tex-math></inline-formula>, if <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$C^{Tour^{k}}$\n</tex-math></inline-formula> of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula> is the lowest or second lowest among all solutions in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula>, i.e., the solution is good enough in terms of the objective function (b), then <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\Delta \\tau (k)$\n</tex-math></inline-formula> is calculated in <a ref-type=\"disp-formula\" anchor=\"deqn12\" href=\"#deqn12\" class=\"fulltext-link\">Eq. (12)</a>.<disp-formula id=\"deqn12\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\Delta \\tau (k)\\,\\,= \\rho _{c} \\cdot \\frac {1}{C^{Tour^{k}}} \\tag{12}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\Delta \\tau (k)\\,\\,= \\rho _{c} \\cdot \\frac {1}{C^{Tour^{k}}} \\tag{12}\\end{equation*}\n</span></span></disp-formula></p><p><inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\Delta \\tau (k)$\n</tex-math></inline-formula> helps ants to explore the neighborhood of solution that optimizes the objective functions (a) and (b). For the objective function (c), <i>global updating</i> is not applied because the pheromone is updated by similarity updating described in <a ref-type=\"sec\" anchor=\"sec3e3\" class=\"fulltext-link\">Section III-E3</a>.</p><p>For the other solutions in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula> than the above, their <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\Delta \\tau (k)$\n</tex-math></inline-formula> is calculated as <a ref-type=\"disp-formula\" anchor=\"deqn13\" href=\"#deqn13\" class=\"fulltext-link\">Eq. (13)</a> <disp-formula id=\"deqn13\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\Delta \\tau (k)\\,\\,= \\rho _{p} \\cdot \\frac {S^{Tour^{k}}}{C^{Tour^{k}}\\cdot T_{k}} \\tag{13}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\Delta \\tau (k)\\,\\,= \\rho _{p} \\cdot \\frac {S^{Tour^{k}}}{C^{Tour^{k}}\\cdot T_{k}} \\tag{13}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$T_{k}$\n</tex-math></inline-formula> shows the travel time of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k}$\n</tex-math></inline-formula>.</p><p>In <a ref-type=\"disp-formula\" anchor=\"deqn11\" href=\"#deqn11\" class=\"fulltext-link\">Eq. (11)</a> to <a ref-type=\"disp-formula\" anchor=\"deqn13\" href=\"#deqn13\" class=\"fulltext-link\">Eq. (13)</a>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{s}$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{c}$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{p}$\n</tex-math></inline-formula> are parameters that adjust the amount of pheromone of the route where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{s} = 0.002$\n</tex-math></inline-formula>, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{c} = 0.0008$\n</tex-math></inline-formula>, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{p} = 0.02$\n</tex-math></inline-formula> as this combination obtained the best performance based on our preliminary studies.</p><p>Based on the above settings, the pheromone <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\tau (i,j)$\n</tex-math></inline-formula> of an edge <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$(v_{i},v_{j})$\n</tex-math></inline-formula> in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Tour^{k} \\in \\mathcal {S}^{PO}$\n</tex-math></inline-formula> is updated as:<disp-formula id=\"deqn14\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} \\tau (i,j) \\leftarrow (1-\\rho _{g})\\tau (i,j)+\\Delta \\tau (k) \\tag{14}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} \\tau (i,j) \\leftarrow (1-\\rho _{g})\\tau (i,j)+\\Delta \\tau (k) \\tag{14}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{g}$\n</tex-math></inline-formula> is a parameter that controls the evaporation amount of pheromone and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{g} = 0.1$\n</tex-math></inline-formula> in our method based on our preliminary studies since <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\rho _{g}$\n</tex-math></inline-formula> must also be small enough to gradually reflect the trajectories in the Pareto optimal solutions.</p><p><i>Global updating</i> makes subsequent ants easy to follow the good routes in the iteration of Step 2 to Step 4.</p></div></div><div class=\"section_2\" id=\"sec3g\"><h3>G. Route Selection &amp; Construction (Step 5)</h3><p>In Step 5, several routes corresponding to the objective functions (a) to (d) are provided to users. The selection is conducted in <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\mathcal {S}^{PO}$\n</tex-math></inline-formula> after <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$N$\n</tex-math></inline-formula>-th iteration of Step 2\u2013Step 4. For the objective functions (a) and (b), a route with the highest total POI satisfaction and a route with the lowest total POI cost in all Pareto optimal solutions are selected, respectively. For the objective function (c), a route that has the highest similarity <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$Sim_{k}$\n</tex-math></inline-formula> is selected in all Pareto optimal solutions.</p><p>For the objective function (d), a route with a minimum value of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$wv$\n</tex-math></inline-formula> of <a ref-type=\"disp-formula\" anchor=\"deqn4\" href=\"#deqn4\" class=\"fulltext-link\">Eq. (4)</a> is selected in all Pareto optimal solutions, as described in Definition <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$1. wv$\n</tex-math></inline-formula> analyzes how the three objective functions (a) to (c) are balanced in each route.</p><p>Totally, we output four routes corresponding to the objective functions (a) to (d) in Step 5.</p></div></div>\n<div class=\"section\" id=\"sec4\"><div class=\"header article-hdr\"><div class=\"kicker\">\n\t\t                        SECTION IV.</div><h2>Experimental Evaluations</h2></div><p>In this section, we evaluate our proposed method with real map data.</p><div class=\"section_2\" id=\"sec4a\"><h3>A. Experiment Method</h3><div class=\"section_2\" id=\"sec4a1\"><h4>1) Datasets</h4><p>The aim of this study is to use the past-trip records for trip planning to reflect the users\u2019 requests. Therefore, we have to use real-world datasets which have a sufficient amount of past-trip records for experiments to evaluate our method. The datasets used for evaluation are shown in <a ref-type=\"table\" anchor=\"table5\" class=\"fulltext-link\">Table 5</a>. The target areas of the datasets are Kyoto with 150 POIs, Sapporo with 100 POIs, and Tokyo with 150 POIs. These areas are expected to have a sufficient amount of past-trip records because they are popular travel destinations in Japan.<div class=\"figure figure-full table\" id=\"table5\"><div class=\"figcaption\"><b class=\"title\">TABLE 5 </b>\nDataset details</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t5-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t5-3227431-small.gif\" alt=\"Table 5- &#10;Dataset details\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p><p>To make a practical route according to the travel site <a ref-type=\"bibr\" anchor=\"ref32\" id=\"context_ref_32_4a1\">[32]</a>, a train station that is frequently visited is set as the starting location and the most popular hotel in the area is set as the ending location in these datasets. POIs in the datasets include a wide variety of categories such as restaurants, parks, museums, and temples. The time limitation is set as ten hours for a one-day trip. POI satisfaction, POI cost, duration time, and the past-trip records are obtained from <a ref-type=\"bibr\" anchor=\"ref32\" id=\"context_ref_32_4a1\">[32]</a>.</p><p>POI satisfaction is an average score of rating from real users which ranges from 1.0 as minimum and 5.0 as maximum. POI cost represents the users\u2019 average food cost at the restaurant if POI is a restaurant, otherwise POI cost represents the entrance fee which ranges from 0 yen to a maximum of 22,000 yen. Note that, if POI cost of a restaurant is not available in <a ref-type=\"bibr\" anchor=\"ref32\" id=\"context_ref_32_4a1\">[32]</a>, average POI cost on a gourmet site <a ref-type=\"bibr\" anchor=\"ref33\" id=\"context_ref_33_4a1\">[33]</a> is used as the restaurant\u2019s POI cost. Furthermore, for POIs of shopping malls and markets, the POI cost is set as 2,456 yen utilizing the average cost for general dietary at travel in <a ref-type=\"bibr\" anchor=\"ref32\" id=\"context_ref_32_4a1\">[32]</a>.</p><p>Duration time represents the average time users spend at a POI. The past-trip records are a real one-day trip footprint at the target area posted to <a ref-type=\"bibr\" anchor=\"ref32\" id=\"context_ref_32_4a1\">[32]</a>. Past-trip records include 315 routes in Kyoto where the average number of POIs visited in each record is 4.96, 146 routes in Sapporo where the average number of POIs visited in each record is 3.15, and 154 routes in Tokyo where the average number of POIs visited in each record is 3.14.</p><p>Travel time is the driving time between any two POIs at the speed of 30 km/h which is near the average driving speed on general roads in Japan <a ref-type=\"bibr\" anchor=\"ref34\" id=\"context_ref_34_4a1\">[34]</a>.</p></div><div class=\"section_2\" id=\"sec4a2\"><h4>2) Comparison Method</h4><p>To confirm the effectiveness of our method, we compare our method with two baseline methods, P-VNS <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_4a2\">[17]</a> and MOACOPW <a ref-type=\"bibr\" anchor=\"ref24\" id=\"context_ref_24_4a2\">[24]</a> which deal with multi-objective functions and satisfies the first condition in <a ref-type=\"sec\" anchor=\"sec1\" class=\"fulltext-link\">Section I</a>. Note that, there is no method that sufficiently satisfies the first and second conditions as far as we know.</p><p><b>Baseline method 1 (P-VNS):</b> P-VNS <a ref-type=\"bibr\" anchor=\"ref17\" id=\"context_ref_17_4a2\">[17]</a> is one of the local search methods that replaces nodes in the initial solution with other nodes to explore neighborhoods. To deal with the trade-off relations between different objective functions, P-VNS constructs several Pareto optimal solutions and varies weights of objective functions. In our experiments for P-VNS, we only use total POI satisfaction and total POI cost as its objective functions. Note that, it is difficult to incorporate a mechanism for considering the visiting orders and relationships of past-trip records in the objective function (c) into the P-VNS since P-VNS is based on the local search composed of node replacement and node insertion. At the same time, P-VNS adopts an inferior solution with a constant probability to avoid local solutions at every update. Since P-VNS stores Pareto optimal solutions in it, we select the four solutions as its outputs corresponding to the objective functions (a) to (d), respectively, as in <a ref-type=\"sec\" anchor=\"sec3g\" class=\"fulltext-link\">Section III-G</a>. Furthermore, in order to evaluate the distribution of the entire solutions including intermediate solutions, all constructed Pareto optimal solutions are used for evaluations in <a ref-type=\"fig\" anchor=\"fig6\" class=\"fulltext-link\">Figs. 6</a> and <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">7</a> and the discussion in <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a>.\n<div class=\"figure figure-full\" id=\"fig6\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki6-3227431-large.gif\" data-fig-id=\"fig6\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki6-3227431-small.gif\" alt=\"FIGURE 6. - Distribution of the three methods (Kyoto).\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 6. </b><fig><p>Distribution of the three methods (Kyoto).</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig7\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki7-3227431-large.gif\" data-fig-id=\"fig7\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki7-3227431-small.gif\" alt=\"FIGURE 7. - Distribution of the three methods (Sapporo).\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 7. </b><fig><p>Distribution of the three methods (Sapporo).</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p><p>We implemented P-VNS in Python3 on the server computer (CPU: Intel Xeon Gold 6130 2.10GHz, Memory: 768GB). P-VNS was conducted ten times and the average execution time of the method is shown in <a ref-type=\"table\" anchor=\"table10\" class=\"fulltext-link\">Table 10</a>.<div class=\"figure figure-full table\" id=\"table6\"><div class=\"figcaption\"><b class=\"title\">TABLE 6 </b>\nParameters of our method</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t6-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t6-3227431-small.gif\" alt=\"Table 6- &#10;Parameters of our method\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table7\"><div class=\"figcaption\"><b class=\"title\">TABLE 7 </b>\nResults for Kyoto dataset</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t7-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t7-3227431-small.gif\" alt=\"Table 7- &#10;Results for Kyoto dataset\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table8\"><div class=\"figcaption\"><b class=\"title\">TABLE 8 </b>\nResults for Sapporo dataset</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t8-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t8-3227431-small.gif\" alt=\"Table 8- &#10;Results for Sapporo dataset\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table9\"><div class=\"figcaption\"><b class=\"title\">TABLE 9 </b>\nResults for Tokyo dataset</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t9-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t9-3227431-small.gif\" alt=\"Table 9- &#10;Results for Tokyo dataset\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table10\"><div class=\"figcaption\"><b class=\"title\">TABLE 10 </b>\nAverage execution time (standard deviation)</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t10-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t10-3227431-small.gif\" alt=\"Table 10- &#10;Average execution time (standard deviation)\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p><p><b>Baseline method 2 (MOACOPW):</b> MOACOPW <a ref-type=\"bibr\" anchor=\"ref24\" id=\"context_ref_24_4a2\">[24]</a> is one of the latest multi-objective ACO methods based on decomposition framework <a ref-type=\"bibr\" anchor=\"ref35\" id=\"context_ref_35_4a2\">[35]</a> which has the advantages of low time complexity and good convergence performance. In MOACOPW, the multi-objective problem is decomposed into several sub-problems, and the ant colony is divided into several sub-groups to cover all objectives. We add the time element and limit time to MOACOPW because it is originally designed for the multi-objective traveling salesman problem (TSP). We also replace the objectives for the multi-objective TSP with the objectives (a) to (d) in the MOTPP. The parameters in MOACOPW are the same in <a ref-type=\"bibr\" anchor=\"ref24\" id=\"context_ref_24_4a2\">[24]</a>. Since the MOACOPW stores Pareto optimal solutions in it, we select the four solutions as its outputs corresponding to the objective functions (a) to (d), respectively. Furthermore, in order to evaluate the distribution of the entire solutions, all constructed Pareto optimal solutions are used for evaluations in <a ref-type=\"fig\" anchor=\"fig6\" class=\"fulltext-link\">Fig. 6</a>, <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">Fig. 7</a>, and <a ref-type=\"fig\" anchor=\"fig8\" class=\"fulltext-link\">Fig. 8</a> and the discussion in <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a>.\n<div class=\"figure figure-full\" id=\"fig8\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki8-3227431-large.gif\" data-fig-id=\"fig8\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki8-3227431-small.gif\" alt=\"FIGURE 8. - Distribution of the three methods (Tokyo).\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 8. </b><fig><p>Distribution of the three methods (Tokyo).</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p><p>We implemented MOACOPW in Python3 on the server computer (CPU: Intel Xeon Gold 6130 2.10GHz, Memory: 768GB), and it was conducted ten times and the average execution time of the method is shown in <a ref-type=\"table\" anchor=\"table10\" class=\"fulltext-link\">Table 10</a>.</p><p><b>Ours:</b> Parameters in our method are summarised in <a ref-type=\"table\" anchor=\"table6\" class=\"fulltext-link\">Table 6</a>. We set the iteration times <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$N$\n</tex-math></inline-formula> as 50, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$M$\n</tex-math></inline-formula> as 20 which is the number of ants for one outer iteration. In our method, the objective functions (a) to (d) are considered by each ant in route construction. Although the output of our method is four solutions corresponding to the objective functions (a) to (d), not only the four solutions, but all constructed Pareto optimal solutions are used for evaluation together in <a ref-type=\"fig\" anchor=\"fig6\" class=\"fulltext-link\">Figs. 6</a> and <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">7</a> and the discussion in <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a>.</p><p>We implemented our method in Python3 on the server computer (CPU: Intel Xeon Gold 6130 2.10GHz, Memory: 768GB). Our method was conducted ten times and the average execution time of the method is shown in <a ref-type=\"table\" anchor=\"table10\" class=\"fulltext-link\">Table 10</a>.</p></div></div><div class=\"section_2\" id=\"sec4b\"><h3>B. Trip Planning Result</h3><p>The result for our method, P-VNS, and MOACOPW of Kyoto is shown in <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a>, the result of Sapporo is shown in <a ref-type=\"table\" anchor=\"table8\" class=\"fulltext-link\">Table 8</a>, and the result of Tokyo is shown in <a ref-type=\"table\" anchor=\"table9\" class=\"fulltext-link\">Table 9</a>. In these tables, our method, P-VNS, and MOACOPW are executed ten times and the averaged data are shown. In the table, \u201cPOI satisfaction (a)\u201d, \u201cPOI cost (b)\u201d, and \u201cSimilarity (c)\u201d correspond to the objective functions (a) to (c) respectively. Those values with \u201c(d)\u201d mean the values selected for the objective function (d). \u201cTravel time\u201d shows the average travel time of all Pareto solutions and \u201c#POIs\u201d represents the average number of POIs in one route. \u201c#solutions\u201d represents the number of Pareto solutions. The distribution of solutions for Kyoto, Sapporo, and Tokyo by our method, P-VNS, and MOACOPW are shown in <a ref-type=\"fig\" anchor=\"fig6\" class=\"fulltext-link\">Fig. 6</a>, <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">Fig. 7</a>, and <a ref-type=\"fig\" anchor=\"fig8\" class=\"fulltext-link\">Fig. 8</a>.</p><div class=\"section_2\" id=\"sec4b1\"><h4>1) Objective Functions (A) and (B)</h4><p>Focusing on the \u201cPOI satisfaction (a)\u201d, our method constructs more satisfying routes than P-VNS and MOACOPW. Comparing the standard deviations of the \u201cPOI satisfaction (a)\u201d, our method has much smaller values than P-VNS and MOACOPW, and this indicates that our method constructs stabilized and cohesive routes corresponding to the objective function (a).</p><p>On the other hand, \u201cPOI cost (b)\u201d routes based on the objective function (b) show that all of them have the same cost of 0 yen in our method and P-VNS, while MOACOPW obtains an average cost of 2 to 5 thousand yen. Analyzing the 0 yen routes implies that those routes include many popular temples, shrines, and parks with no admission fee. Thus, our method explores better routes than P-VNS and MOACOPW for the <i>first condition</i>.</p></div><div class=\"section_2\" id=\"sec4b2\"><h4>2) Objective Function (C)</h4><p>For the objective function (c), the values of \u201cSimilarity (c)\u201d in our method is <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$((0.065/0.057)-1) \\times 100\\% \\approx 14\\%$\n</tex-math></inline-formula> (Kyoto), <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$((0.110/0.077)-1) \\times 100\\% \\approx 43\\%$\n</tex-math></inline-formula> (Sapporo), and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$((0.067/0.048)-1) \\times 100\\% \\approx 40\\%$\n</tex-math></inline-formula> (Tokyo) higher than those of P-VNS, and 7% (Kyoto), 16% (Sapporo), and 56% (Tokyo) higher than those of MOACOPW, and this means that our method achieves the <i>second condition</i> better than P-VNS and MOACOPW.</p></div><div class=\"section_2\" id=\"sec4b3\"><h4>3) Objective Function (D)</h4><p>We compare the objective function(d) values in the tables. In Kyoto, the route our method selects is 7% higher and 2% higher in POI satisfaction, 239% higher and 21% lower in POI cost, and 4% higher and 2% lower in similarity compared with P-VNS and MOACOPW, respectively. In Sapporo, the route by our method is 9% higher and 6% higher in POI satisfaction, 56% lower and 64% lower in POI cost, and 40% higher and 27% higher in similarity compared with P-VNS and MOACOPW, respectively. In Tokyo, the route by our method is 2% higher and 3% higher in POI satisfaction, 26% higher and 60% lower in POI cost, and 23% higher and 55% higher in similarity compared with P-VNS and MOACOPW, respectively.</p><p>As the aim of the objective function (d) is to find a route considering all the objectives, it is more difficult to evaluate the constructed routes than other objectives due to the existence of functions with trade-off relations. Thus, the standard deviation and the distribution of solutions are used to evaluate the stability and goodness of entire solutions. As <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a>, <a ref-type=\"table\" anchor=\"table8\" class=\"fulltext-link\">Table 8</a>, and <a ref-type=\"table\" anchor=\"table9\" class=\"fulltext-link\">Table 9</a> show that it can be seen that all standard deviations of our method are lower than these of P-VNS, and this indicates that our method stably explores a route that has multi-objective functions (a) to (c). For comparison with MOACOPW, our method obtains smaller standard deviations than MOACOPW in almost all the terms, expect the standard deviations of \u201cPOI cost (d)\u201d in Sapporo and \u201cSimilarity (d)\u201d in Tokyo. In general, our method performs more stably than MOACOPW.</p><p>\u201c#solutions\u201d is also higher in our method than P-VNS which leads to a high probability of selecting a better-balanced route because of the large number of options for the objective function (d). MOACOPW obtains higher \u201c#solutions\u201d than our method in Sapporo and Tokyo while the solutions are degraded in the three terms of the objective function (d). On the other hand, how to construct more solutions without degradation is still a further work.</p><p><a ref-type=\"fig\" anchor=\"fig6\" class=\"fulltext-link\">Fig. 6</a>, <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">Fig. 7</a>, and <a ref-type=\"fig\" anchor=\"fig8\" class=\"fulltext-link\">Fig. 8</a> show the distributions of the solutions tendencies. Our method obtains more well-balanced solutions compared with P-VNS and MOACOPW (see <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a> in the detailed discussions using three indicators).</p><p>The example routes for the objective function (d) by our method, P-VNS, and MOACOPW are shown in <a ref-type=\"fig\" anchor=\"fig9\" class=\"fulltext-link\">Fig. 9</a> and <a ref-type=\"table\" anchor=\"table11\" class=\"fulltext-link\">Table 11</a>.<div class=\"figure figure-full table\" id=\"table11\"><div class=\"figcaption\"><b class=\"title\">TABLE 11 </b>\nEvaluation on the routes for objective function (d) in Fig. 9</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t11d-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t11d-3227431-small.gif\" alt=\"Table 11- &#10;Evaluation on the routes for objective function (d) in Fig. 9\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div>\n<div class=\"figure figure-full\" id=\"fig9\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki9-3227431-large.gif\" data-fig-id=\"fig9\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki9-3227431-small.gif\" alt=\"FIGURE 9. - Routes for objective function (d) (Kyoto).\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 9. </b><fig><p>Routes for objective function (d) (Kyoto).</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p><p>Focusing on \u201cPOI satisfaction\u201d, \u201cPOI cost\u201d, and \u201cSimilarity\u201d in <a ref-type=\"table\" anchor=\"table11\" class=\"fulltext-link\">Table 11</a>, the route our method selects is 1% higher and 2% higher in POI satisfaction, 33% lower and 68% lower in POI cost, and 65% higher and 65% higher in similarity compared with P-VNS and MOACOPW, respectively. These values suggest that our method accomplishes the first condition.</p><p>To examine the achievement of the second condition, and the validity of the similarity, frequently appeared POIs and sequences in the past-trip records in Kyoto are obtained and listed in <a ref-type=\"table\" anchor=\"table12\" class=\"fulltext-link\">Table 12</a> and <a ref-type=\"table\" anchor=\"table13\" class=\"fulltext-link\">Table 13</a>. Past-trip records appeared in our method, P-VNS, and MOACOPW are shown in brown route and purple node in <a ref-type=\"fig\" anchor=\"fig9\" class=\"fulltext-link\">Fig. 9</a>. We summarize the number of past-trip records that appeared in our method, P-VNS and MOACOPW in <a ref-type=\"table\" anchor=\"table14\" class=\"fulltext-link\">Table 14</a>, and it indicates that our method contains more past-trip records than P-VNS and MOACOPW. Since the similarity in <a ref-type=\"table\" anchor=\"table14\" class=\"fulltext-link\">Table 14</a> of our method is 60% higher and 60% higher than that of P-VNS and MOACOPW, respectively, it is reasonable that our method includes more past-trip records. Therefore, P-VNS and MOACOPW are insufficient to meet the second condition, meanwhile, our method calculates the similarity and uses the past-trip records as initial pheromones to meet the second condition and satisfies the user\u2019s various requests.<div class=\"figure figure-full table\" id=\"table12\"><div class=\"figcaption\"><b class=\"title\">TABLE 12 </b>\nPOI appearance rank in the past-trip records in Kyoto</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t12-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t12-3227431-small.gif\" alt=\"Table 12- &#10;POI appearance rank in the past-trip records in Kyoto\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table13\"><div class=\"figcaption\"><b class=\"title\">TABLE 13 </b>\nExamples of past-trip records in Kyoto</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t13-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t13-3227431-small.gif\" alt=\"Table 13- &#10;Examples of past-trip records in Kyoto\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div><div class=\"figure figure-full table\" id=\"table14\"><div class=\"figcaption\"><b class=\"title\">TABLE 14 </b>\nPast-trip records and similarity in Fig. 9</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t14-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t14-3227431-small.gif\" alt=\"Table 14- &#10;Past-trip records and similarity in Fig. 9\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p></div><div class=\"section_2\" id=\"sec4b4\"><h4>4) Travel Time</h4><p>As <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a>, <a ref-type=\"table\" anchor=\"table8\" class=\"fulltext-link\">Table 8</a>, and <a ref-type=\"table\" anchor=\"table9\" class=\"fulltext-link\">Table 9</a> indicate, all the three methods do not exceed the time limitation in all datasets. Especially, \u201cTravel time\u201d of our method is closer to the time limitations than P-VNS and MOACOPW in Kyoto and Sapporo. Our method\u2019s routes include more POIs than P-VNS and MOACOPW according to the results of \u201c#POIs\u201d in <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a>, <a ref-type=\"table\" anchor=\"table8\" class=\"fulltext-link\">Table 8</a>, and <a ref-type=\"table\" anchor=\"table9\" class=\"fulltext-link\">Table 9</a>. Thus, it is reasonable that \u201cTravel time\u201d of our method is slightly longer than that of the other two methods.</p></div></div><div class=\"section_2\" id=\"sec4c\"><h3>C. Additional Evaluation</h3><p>In the experiments in <a ref-type=\"sec\" anchor=\"sec4b\" class=\"fulltext-link\">Section IV-B</a>, we set the starting location and the ending location separately, and the results show the effectiveness of our method in the case where the starting location and the ending location are different. This shows one example of the settings of the starting and ending locations.</p><p>Meanwhile, as users are allowed to freely set the starting and ending locations, our method is supposed to flexibly deal with other settings of the starting and ending locations. For example, some users tend to have the starting location and the ending location at the same position. Thus, to further confirm the effectiveness of our method, we additionally conduct experiments on the case where the starting location and the ending location are the same. The additional experiment was conducted using the Kyoto dataset, and the process was executed completely the same as the process described in <a ref-type=\"sec\" anchor=\"sec4a\" class=\"fulltext-link\">Section IV-A</a>.</p><p>The results of our method are shown in <a ref-type=\"table\" anchor=\"table15\" class=\"fulltext-link\">Table 15</a> and an example of the route for the objective function (d) is shown in <a ref-type=\"fig\" anchor=\"fig12\" class=\"fulltext-link\">Fig. 12</a>. According to the results of our method in <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a> and <a ref-type=\"table\" anchor=\"table15\" class=\"fulltext-link\">Table 15</a>, our method obtains the same or better values than the result in <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a> from the terms \u201cPOI satisfaction (a)\u201d to \u201c#solutions\u201d. Thus, in the case where the starting location and the ending location are the same, our method still can construct routes that meet users\u2019 requests.<div class=\"figure figure-full table\" id=\"table15\"><div class=\"figcaption\"><b class=\"title\">TABLE 15 </b>\nResults for the additional evaluation where the starting location and the ending location are the same</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t15-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t15-3227431-small.gif\" alt=\"Table 15- &#10;Results for the additional evaluation where the starting location and the ending location are the same\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p><p>Also, the route in <a ref-type=\"fig\" anchor=\"fig12\" class=\"fulltext-link\">Fig. 12</a> is realistic without any redundant and overlapped sub-route, because all POIs in the route are naturally and consecutively connected to their next POIs with no turning back.</p></div><div class=\"section_2\" id=\"sec4d\"><h3>D. Convergence Evaluation</h3><p>Evaluation of solutions with multi-objective functions is difficult due to the trade-off relations between objective functions. Therefore, not only the individual solution, but also the convergence, diversity, and distribution breadth of the solutions should be evaluated. We use the following three indicators: Generational Distance (GD) <a ref-type=\"bibr\" anchor=\"ref36\" id=\"context_ref_36_4d\">[36]</a> to evaluate the convergence; Inverted Generational Distance (IGD) <a ref-type=\"bibr\" anchor=\"ref37\" id=\"context_ref_37_4d\">[37]</a> to evaluate the convergence and the diversity; and Maximum Spread (MS) <a ref-type=\"bibr\" anchor=\"ref38\" id=\"context_ref_38_4d\">[38]</a> to evaluate the spread of the distribution. The definitions of three indicators are shown in below.</p><p><b>Generational Distance (GD):</b> GD is an evaluation indicator that evaluates the convergence of solutions by calculating the distance between a set of Pareto optimal solutions and a set of approximate ones <a ref-type=\"bibr\" anchor=\"ref36\" id=\"context_ref_36_4d\">[36]</a>. GD is represented as:<disp-formula id=\"deqn15\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{align*} GD=&amp;\\frac {\\sqrt {\\displaystyle \\sum _{i=1}^{n} d(PF_{i},OP)^{2}}}{n} \\\\ d(PF_{i},OP)=&amp;\\underset {o \\in OP}{\\min } \\parallel PF_{i} {-} o \\parallel \\tag{15}\\end{align*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{align*} GD=&amp;\\frac {\\sqrt {\\displaystyle \\sum _{i=1}^{n} d(PF_{i},OP)^{2}}}{n} \\\\ d(PF_{i},OP)=&amp;\\underset {o \\in OP}{\\min } \\parallel PF_{i} {-} o \\parallel \\tag{15}\\end{align*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$n$\n</tex-math></inline-formula> is the number of approximate solutions, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$PF_{i}$\n</tex-math></inline-formula> is <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$i$\n</tex-math></inline-formula>-th approximate solution, and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$OP$\n</tex-math></inline-formula> is a set of Pareto optimal solutions. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$d(PF_{i},OP)$\n</tex-math></inline-formula> means Euclidean distance between <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$i$\n</tex-math></inline-formula>-th approximate solution and the nearest Pareto optimal solution. The smaller GD indicates, the closer the approximate solution is to the optimal solution, and the higher the accuracy of the approximate solutions is.</p><p><b>Inverted Generational Distance (IGD):</b> IGD evaluates the convergence and diversity of solutions in a similar way to GD. IGD is calculated as:<disp-formula id=\"deqn16\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{align*} IGD=&amp;\\frac {\\displaystyle \\sum _{i=1}^{n} d(OP_{i},PF)}{n} \\\\ d(OP_{i},PF)=&amp;\\underset {p \\in PF}{\\min } \\parallel OP_{i} {-} p \\parallel \\tag{16}\\end{align*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{align*} IGD=&amp;\\frac {\\displaystyle \\sum _{i=1}^{n} d(OP_{i},PF)}{n} \\\\ d(OP_{i},PF)=&amp;\\underset {p \\in PF}{\\min } \\parallel OP_{i} {-} p \\parallel \\tag{16}\\end{align*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$n$\n</tex-math></inline-formula> is the number of Pareto optimal solutions, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$OP_{i}$\n</tex-math></inline-formula> is <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$i$\n</tex-math></inline-formula>-th Pareto optimal solution and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$PF$\n</tex-math></inline-formula> is a set of approximate solutions. <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$d(OP_{i},PF)$\n</tex-math></inline-formula> means Euclidean distance between <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$i$\n</tex-math></inline-formula>-th Pareto optimal solution and the nearest approximate solution. When calculating IGD, we calculate the distance to all Pareto optimal solution to evaluate the diversity of approximate solutions. Similar to GD, the smaller IGD is, the closer the approximate solution is to the optimal solution, and the wider diversity of the solution is.</p><p><b>Maximum Spread (MS):</b> MS is an evaluation indicator that evaluates the spread of solution distribution by comparing the maximum value with the minimum one in each objective function of approximate solutions. MS is calculated as:<disp-formula id=\"deqn17\" class=\"display-formula\"><tex-math notation=\"LaTeX\">\\begin{equation*} MS = \\sqrt {\\sum _{i=1}^{k} \\max \\left \\{{\\parallel a_{i} - b_{i} \\parallel |\\hspace {3pt} \\boldsymbol {a}, \\boldsymbol {b} \\in PF }\\right \\} } \\tag{17}\\end{equation*}\n</tex-math><span class=\"formula\"><span class=\"link\">View Source</span><img aria-describedby=\"qtip-0\" style=\"display:inline;\" title=\"Right-click on figure or equation for MathML and additional features.\" data-hasqtip=\"0\" class=\"qtooltip moreInfo\" alt=\"Right-click on figure for MathML and additional features.\" src=\"/assets/img/icon.support.gif\" border=\"0\" height=\"20\" width=\"24\"/><span class=\"tex tex2jax_ignore\" style=\"display:none;\">\\begin{equation*} MS = \\sqrt {\\sum _{i=1}^{k} \\max \\left \\{{\\parallel a_{i} - b_{i} \\parallel |\\hspace {3pt} \\boldsymbol {a}, \\boldsymbol {b} \\in PF }\\right \\} } \\tag{17}\\end{equation*}\n</span></span></disp-formula> where <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$k$\n</tex-math></inline-formula> is the number of the objective functions, <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$a_{i}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$b_{i}$\n</tex-math></inline-formula> is a value corresponding to <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$i$\n</tex-math></inline-formula>-th objective function in approximate solutions <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\boldsymbol {a}$\n</tex-math></inline-formula> and <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\boldsymbol {b}$\n</tex-math></inline-formula>. The distribution spread is evaluated by calculating the distance between the maximum and minimum value of each objective function. The larger MS indicates the more spread and various solutions are constructed.</p><p>The result of GD, IGD, and MS of our method, P-VNS, and MOACOPW is shown in <a ref-type=\"table\" anchor=\"table16\" class=\"fulltext-link\">Table 16</a>. To evaluate POI satisfaction, POI cost, and similarity, all values are normalized with a maximum of 1 and a minimum of 0. In this evaluation, we use all the Pareto optimal solutions stored in our method, P-VNS, and MOACOPW as depicted in <a ref-type=\"fig\" anchor=\"fig6\" class=\"fulltext-link\">Fig. 6</a>, <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">Fig. 7</a>, and <a ref-type=\"fig\" anchor=\"fig8\" class=\"fulltext-link\">Fig. 8</a>.<div class=\"figure figure-full table\" id=\"table16\"><div class=\"figcaption\"><b class=\"title\">TABLE 16 </b>\nAverage values of three indicators (standard deviation)</div><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t16-3227431-large.gif\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki.t16-3227431-small.gif\" alt=\"Table 16- &#10;Average values of three indicators (standard deviation)\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div></div></p><div class=\"section_2\" id=\"sec4d1\"><h4>1) Generational Distance (GD)</h4><p>Focusing on GD in <a ref-type=\"table\" anchor=\"table16\" class=\"fulltext-link\">Table 16</a>, the GD values of our method are 92% lower and 88% lower in Kyoto, 41% lower and 37% lower in Sapporo, and 56% lower and 25% higher in Tokyo than those of P-VNS and MOACOPW, respectively. This result indicates that the convergence and the quality are higher in our method for the three datasets except for Tokyo with MOACOPW. As MOACOPW has more solutions in Tokyo that may cover optimal solutions in <a ref-type=\"disp-formula\" anchor=\"deqn15\" href=\"#deqn15\" class=\"fulltext-link\">Eq. (15)</a>, and it leads a higher GD value than our method. Therefore, how to construct more solutions is a future work.</p></div><div class=\"section_2\" id=\"sec4d2\"><h4>2) Inverted Generational Distance (IGD)</h4><p>IGD of our method is lower than those of P-VNS and MOACOPW, around 96% and 98% in Kyoto, 41% and 85% in Sapporo, and 85% and 87% in Tokyo, respectively. The standard deviation of our method is lower than that of P-VNS and MOACOPW, especially in Kyoto. This result indicates that our method constructs more diverse solutions than P-VNS and MOACOPW and the tendency is remarkable in Kyoto.</p></div><div class=\"section_2\" id=\"sec4d3\"><h4>3) Maximum Spread (Ms)</h4><p>The average MS value of P-VNS is higher than that of our method in Kyoto, but this relation is inverse in Sapporo and Tokyo. However, in Kyoto, the standard deviation of our method is around 1/10 of the standard deviation of P-VNS. Generally, since P-VNS does not stably construct a route with higher MS for the Kyoto dataset, and the standard deviation of our method is also lower than that of P-VNS in Sapporo and Tokyo.</p><p>Also, the value of MOACOPW is higher than that of our method in Sapporo, but this relation is inverse in Kyoto and Tokyo. It may be the reason that MOACOPW constructs solutions that have a wider range of similarity which include a large number of low similarities as shown in <a ref-type=\"fig\" anchor=\"fig7\" class=\"fulltext-link\">Fig. 7</a>. It suggests that the solution distribution is not so good in MOACOPW.</p><p>This result shows that our method constructs more diverse and stable solutions with wider distributions in three datasets.</p><p>In conclusion, it is shown that our method constructs solutions that have better distributions and simultaneously meet the first and second conditions in <a ref-type=\"sec\" anchor=\"sec1\" class=\"fulltext-link\">Section I</a> compared to P-VNS and MOACOPW.</p></div></div><div class=\"section_2\" id=\"sec4e\"><h3>E. User Study</h3><p>In this subsection, we evaluate the effectiveness of the similarity function explained in <a ref-type=\"sec\" anchor=\"sec3e3\" class=\"fulltext-link\">Section III-E3</a> and the validity of a route through user evaluations. The purpose of the user study is that we want to see how much every user overall satisfies the route if the similarity of the constructed route to the past-tour records becomes high, and hence we want to see if the similarity introduced in <a ref-type=\"sec\" anchor=\"sec3e3\" class=\"fulltext-link\">Section III-E3</a> is reasonable or not.</p><div class=\"section_2\" id=\"sec4e1\"><h4>1) Experimental Method</h4><p>For the three target areas in <a ref-type=\"sec\" anchor=\"sec4a1\" class=\"fulltext-link\">Section IV-A1</a>, we conducted an evaluation experiment by providing routes of the objective function (d) constructed by our method and P-VNS to 20 participants who are familiar with this area. In this experiment, we especially focus on similarity between the objective function (d) route and the past-trip records. We did not compare our method with MOACOPW, because the performances of MOACOPW and P-VNS are similar, and P-VNS has five better values than MOACOPW, either for the results of the objective function (d) in <a ref-type=\"table\" anchor=\"table7\" class=\"fulltext-link\">Table 7</a>\u2013<a ref-type=\"table\" anchor=\"table8\" class=\"fulltext-link\"/><a ref-type=\"table\" anchor=\"table9\" class=\"fulltext-link\">Table 9</a> or the three indicators in <a ref-type=\"table\" anchor=\"table16\" class=\"fulltext-link\">Table 16</a>.</p><p>The routes for evaluation are shown in <a ref-type=\"fig\" anchor=\"fig9\" class=\"fulltext-link\">Fig. 9</a>, <a ref-type=\"fig\" anchor=\"fig10\" class=\"fulltext-link\">Fig. 10</a>, and <a ref-type=\"fig\" anchor=\"fig11\" class=\"fulltext-link\">Fig. 11</a>. Questions <a ref-type=\"disp-formula\" anchor=\"deqn1\" href=\"#deqn1\" class=\"fulltext-link\">(1)</a>, <a ref-type=\"disp-formula\" anchor=\"deqn2\" href=\"#deqn2\" class=\"fulltext-link\">(2)</a>, and <a ref-type=\"disp-formula\" anchor=\"deqn3\" href=\"#deqn3\" class=\"fulltext-link\">(3)</a> in <a ref-type=\"fig\" anchor=\"fig13\" class=\"fulltext-link\">Fig. 13</a> were presented to the participants.\n<div class=\"figure figure-full\" id=\"fig10\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki10-3227431-large.gif\" data-fig-id=\"fig10\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki10-3227431-small.gif\" alt=\"FIGURE 10. - Routes for objective function (d) (Sapporo).\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 10. </b><fig><p>Routes for objective function (d) (Sapporo).</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig11\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki11-3227431-large.gif\" data-fig-id=\"fig11\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki11-3227431-small.gif\" alt=\"FIGURE 11. - Routes for objective function (d) (Tokyo).\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 11. </b><fig><p>Routes for objective function (d) (Tokyo).</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig12\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki12-3227431-large.gif\" data-fig-id=\"fig12\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki12-3227431-small.gif\" alt=\"FIGURE 12. - Example route for the objective function (d) where the starting location and the ending location are the same.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 12. </b><fig><p>Example route for the objective function (d) where the starting location and the ending location are the same.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig13\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki13-3227431-large.gif\" data-fig-id=\"fig13\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki13-3227431-small.gif\" alt=\"FIGURE 13. - Questions.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 13. </b><fig><p>Questions.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p></div><div class=\"section_2\" id=\"sec4e2\"><h4>2) The Result</h4><p>The answers are summarized in <a ref-type=\"fig\" anchor=\"fig14\" class=\"fulltext-link\">Fig. 14</a>, <a ref-type=\"fig\" anchor=\"fig15\" class=\"fulltext-link\">Fig. 15</a>, and <a ref-type=\"fig\" anchor=\"fig16\" class=\"fulltext-link\">Fig. 16</a>.\n<div class=\"figure figure-full\" id=\"fig14\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki14-3227431-large.gif\" data-fig-id=\"fig14\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki14-3227431-small.gif\" alt=\"FIGURE 14. - Answer to Questions (1)\u2013(3) (Kyoto). The boxplot in the figure shows the distribution of the obtained data. The box extends from the first quartile to third quartile with the line inside indicating the median. The whisker shows the maximum and minimum values.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 14. </b><fig><p>Answer to Questions <a ref-type=\"disp-formula\" anchor=\"deqn1\" href=\"#deqn1\" class=\"fulltext-link\">(1)</a>\u2013<a ref-type=\"disp-formula\" anchor=\"deqn2\" href=\"#deqn2\" class=\"fulltext-link\"/><a ref-type=\"disp-formula\" anchor=\"deqn3\" href=\"#deqn3\" class=\"fulltext-link\">(3)</a> (Kyoto). The boxplot in the figure shows the distribution of the obtained data. The box extends from the first quartile to third quartile with the line inside indicating the median. The whisker shows the maximum and minimum values.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig15\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki15-3227431-large.gif\" data-fig-id=\"fig15\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki15-3227431-small.gif\" alt=\"FIGURE 15. - Answer to Questions (1)\u2013(3) (Sapporo). The boxplot in the figure shows the distribution of the obtained data. The box extends from the first quartile to third quartile with the line inside indicating the median. The whisker shows the maximum and minimum values.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 15. </b><fig><p>Answer to Questions <a ref-type=\"disp-formula\" anchor=\"deqn1\" href=\"#deqn1\" class=\"fulltext-link\">(1)</a>\u2013<a ref-type=\"disp-formula\" anchor=\"deqn2\" href=\"#deqn2\" class=\"fulltext-link\"/><a ref-type=\"disp-formula\" anchor=\"deqn3\" href=\"#deqn3\" class=\"fulltext-link\">(3)</a> (Sapporo). The boxplot in the figure shows the distribution of the obtained data. The box extends from the first quartile to third quartile with the line inside indicating the median. The whisker shows the maximum and minimum values.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div>\n<div class=\"figure figure-full\" id=\"fig16\"><!--\n          Workaround for combined images.Eg.- 1000116 Fig. 5\n        --><div class=\"img-wrap\"><a href=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki16-3227431-large.gif\" data-fig-id=\"fig16\"><img src=\"/mediastore_new/IEEE/content/media/6287639/9668973/9973236/saeki16-3227431-small.gif\" alt=\"FIGURE 16. - Answer to Questions (1)\u2013(3) (Tokyo). The boxplot in the figure shows the distribution of the obtained data. The box extends from the first quartile to third quartile with the line inside indicating the median. The whisker shows the maximum and minimum values.\"/><div class=\"zoom\" title=\"View Larger Image\"/></a></div><div class=\"figcaption\"><b class=\"title\">FIGURE 16. </b><fig><p>Answer to Questions <a ref-type=\"disp-formula\" anchor=\"deqn1\" href=\"#deqn1\" class=\"fulltext-link\">(1)</a>\u2013<a ref-type=\"disp-formula\" anchor=\"deqn2\" href=\"#deqn2\" class=\"fulltext-link\"/><a ref-type=\"disp-formula\" anchor=\"deqn3\" href=\"#deqn3\" class=\"fulltext-link\">(3)</a> (Tokyo). The boxplot in the figure shows the distribution of the obtained data. The box extends from the first quartile to third quartile with the line inside indicating the median. The whisker shows the maximum and minimum values.</p></fig></div><p class=\"links\"><a href=\"/document/9973236/all-figures\" class=\"all\">Show All</a></p></div></p><p>For Question <a ref-type=\"disp-formula\" anchor=\"deqn1\" href=\"#deqn1\" class=\"fulltext-link\">(1)</a>, our method obtains the interquartile ranges of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\geq $\n</tex-math></inline-formula> 4 points from all participants, while P-VNS only obtains all the interquartile ranges of <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\leq $\n</tex-math></inline-formula> 4 points. Moreover, the average and median of our method are all over 4.5 points.</p><p>For Question <a ref-type=\"disp-formula\" anchor=\"deqn2\" href=\"#deqn2\" class=\"fulltext-link\">(2)</a>, our method has an equal or a smaller interquartile range than P-VNS.</p><p>For Question <a ref-type=\"disp-formula\" anchor=\"deqn3\" href=\"#deqn3\" class=\"fulltext-link\">(3)</a>, our method obtains the rates <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\geq $\n</tex-math></inline-formula> 3 points from all participants in Kyoto area, while P-VNS only obtains all rates <inline-formula id=\"\"><tex-math notation=\"LaTeX\">$\\leq $\n</tex-math></inline-formula> 3 points. In Sapporo area, our method obtains a smaller interquartile range while P-VNS obtains higher interquartile range. Also, our method obtains higher average scores than P-VNS in Tokyo area.</p><p>Our method obtains a equal or smaller interquartile range and a higher average score in both Questions <a ref-type=\"disp-formula\" anchor=\"deqn1\" href=\"#deqn1\" class=\"fulltext-link\">(1)</a> and <a ref-type=\"disp-formula\" anchor=\"deqn2\" href=\"#deqn2\" class=\"fulltext-link\">(2)</a>. Therefore, our method constructs more attractive and suitable routes for users. In addition, our method considers a similarity function to reflect the past-trip records on the routes, and the routes of our method have a higher value in similarity than those of the baseline method according to Tables VII, VIII, and IX. This result indicates that the similarity function is effective for reflecting the past-trip records and valid to construct routes reflecting users\u2019 preferences.</p><p>Moreover, based on the results of Question <a ref-type=\"disp-formula\" anchor=\"deqn3\" href=\"#deqn3\" class=\"fulltext-link\">(3)</a>, it is reasonable that users show higher satisfaction in the route by our method as we consider all the objective functions (a) to (c) into the objective function (d). In other words, the objective function (d) is effective to meet users\u2019 multiple requests.</p></div></div><div class=\"section_2\" id=\"sec4f\"><h3>F. Answers to Research Questions</h3><p>In this subsection, we answer the two research questions, RQ1 and RQ2, shown in <a ref-type=\"sec\" anchor=\"sec1\" class=\"fulltext-link\">Section I</a> based on the evaluation results in <a ref-type=\"sec\" anchor=\"sec4b\" class=\"fulltext-link\">Section IV-B</a> to <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a>.</p><p>RQ1: Does the proposed method outperform the existing trip planning method?</p><p>We can say YES to RQ1 because it is indicated that the proposed method accomplishes the first and second conditions for trip planning and constructs better routes than P-VNS and MOACOPW based on the results in <a ref-type=\"sec\" anchor=\"sec4b\" class=\"fulltext-link\">Section IV-B</a>. Also, the proposed method outperforms P-VNS and MOACOPW because it constructed more diverse and stable solutions with wider distributions than P-VNS and MOACOPW based on the results in <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a>.</p><p>RQ2: Do the objective functions in the proposed method work effectively to meet users\u2019 requests?</p><p>We can say YES to RQ2 because based on the results of Q1\u2013Q3 in <a ref-type=\"sec\" anchor=\"sec4e\" class=\"fulltext-link\">Section IV-E</a>, it is shown that the routes constructed by our method satisfy users\u2019 requests better than routes by P-VNS.</p><p>To sum up, the results in <a ref-type=\"sec\" anchor=\"sec4b\" class=\"fulltext-link\">Section IV-B</a> and <a ref-type=\"sec\" anchor=\"sec4e\" class=\"fulltext-link\">Section IV-E</a> confirm the effectiveness of utilization of past-trip records in the objective function (c) which can better satisfy users\u2019 multiple requests at the same time. Then, based on the results in <a ref-type=\"sec\" anchor=\"sec4d\" class=\"fulltext-link\">Section IV-D</a>, by utilizing past-trip records for the objective function (d), more diverse and stable solutions can be generated.</p></div></div>\n<div class=\"section\" id=\"sec5\"><div class=\"header article-hdr\"><div class=\"kicker\">\n\t\t                        SECTION V.</div><h2>Conclusion</h2></div><p>In this paper, we proposed a trip planning method utilizing ACO. This method utilizes ACO and it plans one-day trips with considerations of the past-trip records and multi-objective optimization to meet users\u2019 multiple requests. Our proposed method is compared to P-VNS and MOACOPW, which are the existing effective multi-objective optimization methods. The evaluations on real-world datasets show that our method constructs routes with better values for all the objectives and these routes are more similar to the past-trip records than P-VNS and MOACOPW. Then, we evaluated our method and P-VNS and MOACOPW through three indicators, and the results show that our method constructs more diverse and stable solutions. Moreover, as a result of the user study, our method obtains higher scores and it indicates that using past-trip records helps meet users\u2019 requests better.</p><p>Currently, our method can only deal with one-day trip planning. In the future, we will extend the proposed method with additional considerations on hotel selection so that it can be applied to multi-day trip planning. Also, we will further consider time window constraints due to the conditions such as traffic regulations and shortened business hours of POIs.</p></div>\n</div></div></response>\n"
}